{"version":3,"file":"taiga-ui-cdk-directives-droppable.mjs","sources":["../../../projects/cdk/directives/droppable/droppable.directive.ts","../../../projects/cdk/directives/droppable/taiga-ui-cdk-directives-droppable.ts"],"sourcesContent":["import {Directive, Output} from '@angular/core';\nimport {tuiPreventDefault, tuiTypedFromEvent} from '@taiga-ui/cdk/observables';\nimport {tuiInjectElement} from '@taiga-ui/cdk/utils';\nimport {tuiIsPresent} from '@taiga-ui/cdk/utils/miscellaneous';\nimport {distinctUntilChanged, filter, map, merge, startWith, switchMap} from 'rxjs';\n\n@Directive({\n    standalone: true,\n    selector: '[tuiDroppableDropped], [tuiDroppableDragOverChange]',\n    host: {\n        '(dragover.prevent.silent)': '0',\n    },\n})\nexport class TuiDroppable {\n    private readonly el = tuiInjectElement();\n\n    @Output()\n    public readonly tuiDroppableDropped = tuiTypedFromEvent(this.el, 'drop').pipe(\n        tuiPreventDefault(),\n        map((event) => event.dataTransfer),\n        filter(tuiIsPresent),\n    );\n\n    @Output()\n    public readonly tuiDroppableDragOverChange = tuiTypedFromEvent(\n        this.el,\n        'dragenter',\n    ).pipe(\n        switchMap(({target, dataTransfer}) =>\n            merge(\n                tuiTypedFromEvent(this.el, 'dragleave').pipe(\n                    filter((event) => event.target === target),\n                ),\n                tuiTypedFromEvent(this.el, 'drop'),\n            ).pipe(\n                map(() => null),\n                startWith(dataTransfer),\n            ),\n        ),\n        distinctUntilChanged((a, b) => (!!a && !!b) || (!a && !b)),\n    );\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;AAMA,MAOa,YAAY,CAAA;AAPzB,IAAA,WAAA,GAAA;QAQqB,IAAE,CAAA,EAAA,GAAG,gBAAgB,EAAE,CAAC;AAGzB,QAAA,IAAA,CAAA,mBAAmB,GAAG,iBAAiB,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,IAAI,CACzE,iBAAiB,EAAE,EACnB,GAAG,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,YAAY,CAAC,EAClC,MAAM,CAAC,YAAY,CAAC,CACvB,CAAC;QAGc,IAA0B,CAAA,0BAAA,GAAG,iBAAiB,CAC1D,IAAI,CAAC,EAAE,EACP,WAAW,CACd,CAAC,IAAI,CACF,SAAS,CAAC,CAAC,EAAC,MAAM,EAAE,YAAY,EAAC,KAC7B,KAAK,CACD,iBAAiB,CAAC,IAAI,CAAC,EAAE,EAAE,WAAW,CAAC,CAAC,IAAI,CACxC,MAAM,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,MAAM,KAAK,MAAM,CAAC,CAC7C,EACD,iBAAiB,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,CACrC,CAAC,IAAI,CACF,GAAG,CAAC,MAAM,IAAI,CAAC,EACf,SAAS,CAAC,YAAY,CAAC,CAC1B,CACJ,EACD,oBAAoB,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAC7D,CAAC;AACL,KAAA;+GA5BY,YAAY,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;mGAAZ,YAAY,EAAA,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,qDAAA,EAAA,OAAA,EAAA,EAAA,mBAAA,EAAA,qBAAA,EAAA,0BAAA,EAAA,4BAAA,EAAA,EAAA,IAAA,EAAA,EAAA,SAAA,EAAA,EAAA,yBAAA,EAAA,GAAA,EAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA,EAAA;;4FAAZ,YAAY,EAAA,UAAA,EAAA,CAAA;kBAPxB,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,UAAU,EAAE,IAAI;AAChB,oBAAA,QAAQ,EAAE,qDAAqD;AAC/D,oBAAA,IAAI,EAAE;AACF,wBAAA,2BAA2B,EAAE,GAAG;AACnC,qBAAA;AACJ,iBAAA,CAAA;8BAKmB,mBAAmB,EAAA,CAAA;sBADlC,MAAM;gBAQS,0BAA0B,EAAA,CAAA;sBADzC,MAAM;;;ACvBX;;AAEG;;;;"}