{"version":3,"file":"taiga-ui-cdk-directives-value-changes.mjs","sources":["../../../projects/cdk/directives/value-changes/value-changes.directive.ts","../../../projects/cdk/directives/value-changes/taiga-ui-cdk-directives-value-changes.ts"],"sourcesContent":["import type {DoCheck} from '@angular/core';\nimport {Directive, inject, Output} from '@angular/core';\nimport {ControlContainer, NgControl} from '@angular/forms';\nimport type {Observable} from 'rxjs';\nimport {distinctUntilChanged, EMPTY, Subject, switchAll} from 'rxjs';\n\n@Directive({\n    standalone: true,\n    selector: '[tuiValueChanges]',\n})\nexport class TuiValueChanges<T> implements DoCheck {\n    private readonly container = inject(ControlContainer, {optional: true});\n    private readonly control = inject(NgControl, {optional: true});\n    private readonly refresh$ = new Subject<Observable<T>>();\n\n    @Output()\n    public readonly tuiValueChanges = this.refresh$.pipe(\n        distinctUntilChanged(),\n        switchAll(),\n        distinctUntilChanged(),\n    );\n\n    public ngDoCheck(): void {\n        this.refresh$.next(\n            this.control?.valueChanges || this.container?.valueChanges || EMPTY,\n        );\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;AAMA,MAIa,eAAe,CAAA;AAJ5B,IAAA,WAAA,GAAA;QAKqB,IAAS,CAAA,SAAA,GAAG,MAAM,CAAC,gBAAgB,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC;QACvD,IAAO,CAAA,OAAA,GAAG,MAAM,CAAC,SAAS,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC;AAC9C,QAAA,IAAA,CAAA,QAAQ,GAAG,IAAI,OAAO,EAAiB,CAAC;AAGzC,QAAA,IAAA,CAAA,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAChD,oBAAoB,EAAE,EACtB,SAAS,EAAE,EACX,oBAAoB,EAAE,CACzB,CAAC;AAOL,KAAA;IALU,SAAS,GAAA;AACZ,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CACd,IAAI,CAAC,OAAO,EAAE,YAAY,IAAI,IAAI,CAAC,SAAS,EAAE,YAAY,IAAI,KAAK,CACtE,CAAC;KACL;+GAhBQ,eAAe,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;mGAAf,eAAe,EAAA,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,OAAA,EAAA,EAAA,eAAA,EAAA,iBAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA,EAAA;;4FAAf,eAAe,EAAA,UAAA,EAAA,CAAA;kBAJ3B,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,UAAU,EAAE,IAAI;AAChB,oBAAA,QAAQ,EAAE,mBAAmB;AAChC,iBAAA,CAAA;8BAOmB,eAAe,EAAA,CAAA;sBAD9B,MAAM;;;ACfX;;AAEG;;;;"}