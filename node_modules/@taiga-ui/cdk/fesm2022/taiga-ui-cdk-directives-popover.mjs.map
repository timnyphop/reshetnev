{"version":3,"file":"taiga-ui-cdk-directives-popover.mjs","sources":["../../../projects/cdk/directives/popover/popover.directive.ts","../../../projects/cdk/directives/popover/taiga-ui-cdk-directives-popover.ts"],"sourcesContent":["import type {OnChanges} from '@angular/core';\nimport {Directive, inject} from '@angular/core';\nimport {tuiIfMap} from '@taiga-ui/cdk/observables';\nimport type {TuiPopover} from '@taiga-ui/cdk/services';\nimport {TuiPopoverService} from '@taiga-ui/cdk/services';\nimport {PolymorpheusTemplate} from '@taiga-ui/polymorpheus';\nimport {distinctUntilChanged, endWith, ignoreElements, share, Subject} from 'rxjs';\n\n@Directive()\nexport abstract class TuiPopoverDirective<T>\n    extends PolymorpheusTemplate<TuiPopover<T, void>>\n    implements OnChanges\n{\n    private readonly service = inject(TuiPopoverService<T>);\n    private readonly open$ = new Subject<boolean>();\n\n    protected options: Partial<T> = {};\n    protected open = false;\n\n    protected readonly openChange = this.open$.pipe(\n        distinctUntilChanged(),\n        tuiIfMap(() =>\n            this.service.open(this, this.options).pipe(ignoreElements(), endWith(false)),\n        ),\n        share(),\n    );\n\n    public ngOnChanges(): void {\n        this.open$.next(this.open);\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;AAQA,MACsB,mBAClB,SAAQ,oBAAyC,CAAA;AAFrD,IAAA,WAAA,GAAA;;AAKqB,QAAA,IAAA,CAAA,OAAO,GAAG,MAAM,EAAC,iBAAoB,EAAC,CAAC;AACvC,QAAA,IAAA,CAAA,KAAK,GAAG,IAAI,OAAO,EAAW,CAAC;QAEtC,IAAO,CAAA,OAAA,GAAe,EAAE,CAAC;QACzB,IAAI,CAAA,IAAA,GAAG,KAAK,CAAC;AAEJ,QAAA,IAAA,CAAA,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAC3C,oBAAoB,EAAE,EACtB,QAAQ,CAAC,MACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAC/E,EACD,KAAK,EAAE,CACV,CAAC;AAKL,KAAA;IAHU,WAAW,GAAA;QACd,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC9B;+GApBiB,mBAAmB,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;mGAAnB,mBAAmB,EAAA,eAAA,EAAA,IAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA,EAAA;;4FAAnB,mBAAmB,EAAA,UAAA,EAAA,CAAA;kBADxC,SAAS;;;ACRV;;AAEG;;;;"}