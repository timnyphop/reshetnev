{"version":3,"file":"taiga-ui-core-pipes-fallback-src.mjs","sources":["../../../projects/core/pipes/fallback-src/fallback-src.pipe.ts","../../../projects/core/pipes/fallback-src/taiga-ui-core-pipes-fallback-src.ts"],"sourcesContent":["import type {PipeTransform} from '@angular/core';\nimport {Pipe} from '@angular/core';\nimport {tuiInjectElement} from '@taiga-ui/cdk/utils/dom';\nimport type {Observable} from 'rxjs';\nimport {fromEvent, map, startWith} from 'rxjs';\n\n@Pipe({\n    standalone: true,\n    name: 'tuiFallbackSrc',\n})\nexport class TuiFallbackSrcPipe implements PipeTransform {\n    private readonly el = tuiInjectElement();\n\n    public transform(src: string, fallback: string): Observable<string> {\n        return fromEvent(this.el, 'error', {capture: true}).pipe(\n            map(() => fallback),\n            startWith(src),\n        );\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;AAMA,MAIa,kBAAkB,CAAA;AAJ/B,IAAA,WAAA,GAAA;QAKqB,IAAE,CAAA,EAAA,GAAG,gBAAgB,EAAE,CAAC;AAQ5C,KAAA;IANU,SAAS,CAAC,GAAW,EAAE,QAAgB,EAAA;AAC1C,QAAA,OAAO,SAAS,CAAC,IAAI,CAAC,EAAE,EAAE,OAAO,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC,IAAI,CACpD,GAAG,CAAC,MAAM,QAAQ,CAAC,EACnB,SAAS,CAAC,GAAG,CAAC,CACjB,CAAC;KACL;+GARQ,kBAAkB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,IAAA,EAAA,CAAA,CAAA,EAAA;6GAAlB,kBAAkB,EAAA,YAAA,EAAA,IAAA,EAAA,IAAA,EAAA,gBAAA,EAAA,CAAA,CAAA,EAAA;;4FAAlB,kBAAkB,EAAA,UAAA,EAAA,CAAA;kBAJ9B,IAAI;AAAC,YAAA,IAAA,EAAA,CAAA;AACF,oBAAA,UAAU,EAAE,IAAI;AAChB,oBAAA,IAAI,EAAE,gBAAgB;AACzB,iBAAA,CAAA;;;ACTD;;AAEG;;;;"}