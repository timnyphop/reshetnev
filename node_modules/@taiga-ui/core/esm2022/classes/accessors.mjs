import { Optional, SkipSelf } from '@angular/core';
import { tuiProvide } from '@taiga-ui/cdk/utils/miscellaneous';
export class TuiAccessor {
}
export class TuiPositionAccessor extends TuiAccessor {
}
export class TuiRectAccessor extends TuiAccessor {
}
export function tuiProvideAccessor(provide, type, fallback) {
    return {
        provide,
        deps: [[new SkipSelf(), new Optional(), provide], fallback],
        useFactory: tuiFallbackAccessor(type),
    };
}
export function tuiFallbackAccessor(type) {
    return (accessors, fallback) => accessors?.find?.((accessor) => accessor !== fallback && accessor.type === type) || fallback;
}
export function tuiPositionAccessorFor(type, fallback) {
    return tuiProvideAccessor(TuiPositionAccessor, type, fallback);
}
export function tuiRectAccessorFor(type, fallback) {
    return tuiProvideAccessor(TuiRectAccessor, type, fallback);
}
export function tuiAsPositionAccessor(accessor) {
    return tuiProvide(TuiPositionAccessor, accessor, true);
}
export function tuiAsRectAccessor(accessor) {
    return tuiProvide(TuiRectAccessor, accessor, true);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjZXNzb3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvY29yZS9jbGFzc2VzL2FjY2Vzc29ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUMsUUFBUSxFQUFFLFFBQVEsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUNqRCxPQUFPLEVBQUMsVUFBVSxFQUFDLE1BQU0sbUNBQW1DLENBQUM7QUFHN0QsTUFBTSxPQUFnQixXQUFXO0NBRWhDO0FBRUQsTUFBTSxPQUFnQixtQkFBb0IsU0FBUSxXQUFXO0NBRTVEO0FBRUQsTUFBTSxPQUFnQixlQUFnQixTQUFRLFdBQVc7Q0FFeEQ7QUFFRCxNQUFNLFVBQVUsa0JBQWtCLENBQzlCLE9BQXdCLEVBQ3hCLElBQVksRUFDWixRQUFpQjtJQUVqQixPQUFPO1FBQ0gsT0FBTztRQUNQLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxRQUFRLEVBQUUsRUFBRSxJQUFJLFFBQVEsRUFBRSxFQUFFLE9BQU8sQ0FBQyxFQUFFLFFBQVEsQ0FBQztRQUMzRCxVQUFVLEVBQUUsbUJBQW1CLENBQUksSUFBSSxDQUFDO0tBQzNDLENBQUM7QUFDTixDQUFDO0FBRUQsTUFBTSxVQUFVLG1CQUFtQixDQUMvQixJQUFZO0lBRVosT0FBTyxDQUFDLFNBQVMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUMzQixTQUFTLEVBQUUsSUFBSSxFQUFFLENBQ2IsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLFFBQVEsS0FBSyxRQUFRLElBQUksUUFBUSxDQUFDLElBQUksS0FBSyxJQUFJLENBQ2hFLElBQUksUUFBUSxDQUFDO0FBQ3RCLENBQUM7QUFFRCxNQUFNLFVBQVUsc0JBQXNCLENBQ2xDLElBQVksRUFDWixRQUFtQztJQUVuQyxPQUFPLGtCQUFrQixDQUFDLG1CQUFtQixFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNuRSxDQUFDO0FBRUQsTUFBTSxVQUFVLGtCQUFrQixDQUM5QixJQUFZLEVBQ1osUUFBK0I7SUFFL0IsT0FBTyxrQkFBa0IsQ0FBQyxlQUFlLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQy9ELENBQUM7QUFFRCxNQUFNLFVBQVUscUJBQXFCLENBQ2pDLFFBQW1DO0lBRW5DLE9BQU8sVUFBVSxDQUFDLG1CQUFtQixFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUMzRCxDQUFDO0FBRUQsTUFBTSxVQUFVLGlCQUFpQixDQUFDLFFBQStCO0lBQzdELE9BQU8sVUFBVSxDQUFDLGVBQWUsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDdkQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHtBYnN0cmFjdFR5cGUsIEV4aXN0aW5nUHJvdmlkZXIsIEZhY3RvcnlQcm92aWRlciwgVHlwZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge09wdGlvbmFsLCBTa2lwU2VsZn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge3R1aVByb3ZpZGV9IGZyb20gJ0B0YWlnYS11aS9jZGsvdXRpbHMvbWlzY2VsbGFuZW91cyc7XG5pbXBvcnQgdHlwZSB7VHVpUG9pbnR9IGZyb20gJ0B0YWlnYS11aS9jb3JlL3R5cGVzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFR1aUFjY2Vzc29yIHtcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVHVpUG9zaXRpb25BY2Nlc3NvciBleHRlbmRzIFR1aUFjY2Vzc29yIHtcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0UG9zaXRpb24ocmVjdDogRE9NUmVjdCk6IFR1aVBvaW50O1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVHVpUmVjdEFjY2Vzc29yIGV4dGVuZHMgVHVpQWNjZXNzb3Ige1xuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRDbGllbnRSZWN0KCk6IERPTVJlY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dWlQcm92aWRlQWNjZXNzb3I8VCBleHRlbmRzIFR1aUFjY2Vzc29yPihcbiAgICBwcm92aWRlOiBBYnN0cmFjdFR5cGU8VD4sXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGZhbGxiYWNrOiBUeXBlPFQ+LFxuKTogRmFjdG9yeVByb3ZpZGVyIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm92aWRlLFxuICAgICAgICBkZXBzOiBbW25ldyBTa2lwU2VsZigpLCBuZXcgT3B0aW9uYWwoKSwgcHJvdmlkZV0sIGZhbGxiYWNrXSxcbiAgICAgICAgdXNlRmFjdG9yeTogdHVpRmFsbGJhY2tBY2Nlc3NvcjxUPih0eXBlKSxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVpRmFsbGJhY2tBY2Nlc3NvcjxUIGV4dGVuZHMgVHVpQWNjZXNzb3I+KFxuICAgIHR5cGU6IHN0cmluZyxcbik6IChhY2Nlc3NvcnM6IHJlYWRvbmx5IFRbXSB8IG51bGwsIGZhbGxiYWNrOiBUKSA9PiBUIHtcbiAgICByZXR1cm4gKGFjY2Vzc29ycywgZmFsbGJhY2spID0+XG4gICAgICAgIGFjY2Vzc29ycz8uZmluZD8uKFxuICAgICAgICAgICAgKGFjY2Vzc29yKSA9PiBhY2Nlc3NvciAhPT0gZmFsbGJhY2sgJiYgYWNjZXNzb3IudHlwZSA9PT0gdHlwZSxcbiAgICAgICAgKSB8fCBmYWxsYmFjaztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1aVBvc2l0aW9uQWNjZXNzb3JGb3IoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGZhbGxiYWNrOiBUeXBlPFR1aVBvc2l0aW9uQWNjZXNzb3I+LFxuKTogRmFjdG9yeVByb3ZpZGVyIHtcbiAgICByZXR1cm4gdHVpUHJvdmlkZUFjY2Vzc29yKFR1aVBvc2l0aW9uQWNjZXNzb3IsIHR5cGUsIGZhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1aVJlY3RBY2Nlc3NvckZvcihcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgZmFsbGJhY2s6IFR5cGU8VHVpUmVjdEFjY2Vzc29yPixcbik6IEZhY3RvcnlQcm92aWRlciB7XG4gICAgcmV0dXJuIHR1aVByb3ZpZGVBY2Nlc3NvcihUdWlSZWN0QWNjZXNzb3IsIHR5cGUsIGZhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1aUFzUG9zaXRpb25BY2Nlc3NvcihcbiAgICBhY2Nlc3NvcjogVHlwZTxUdWlQb3NpdGlvbkFjY2Vzc29yPixcbik6IEV4aXN0aW5nUHJvdmlkZXIge1xuICAgIHJldHVybiB0dWlQcm92aWRlKFR1aVBvc2l0aW9uQWNjZXNzb3IsIGFjY2Vzc29yLCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1aUFzUmVjdEFjY2Vzc29yKGFjY2Vzc29yOiBUeXBlPFR1aVJlY3RBY2Nlc3Nvcj4pOiBFeGlzdGluZ1Byb3ZpZGVyIHtcbiAgICByZXR1cm4gdHVpUHJvdmlkZShUdWlSZWN0QWNjZXNzb3IsIGFjY2Vzc29yLCB0cnVlKTtcbn1cbiJdfQ==