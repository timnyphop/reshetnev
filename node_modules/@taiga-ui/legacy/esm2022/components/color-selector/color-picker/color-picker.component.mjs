import { __decorate } from "tslib";
import { ChangeDetectionStrategy, Component, EventEmitter, inject, Input, Output, } from '@angular/core';
import { DomSanitizer } from '@angular/platform-browser';
import { tuiHsvToRgb, tuiRgbToHsv } from '@taiga-ui/cdk/utils/color';
import { tuiRound } from '@taiga-ui/cdk/utils/math';
import { tuiPure } from '@taiga-ui/cdk/utils/miscellaneous';
import * as i0 from "@angular/core";
import * as i1 from "../flat-picker/flat-picker.component";
import * as i2 from "../linear-picker/linear-picker.component";
class TuiColorPickerComponent {
    constructor() {
        this.sanitizer = inject(DomSanitizer);
        this.point = [0, 1];
        this.hue = 0;
        this.opacity = 1;
        this.colorChange = new EventEmitter();
    }
    set color(color) {
        if (this.currentColor.every((item, index) => item === color[index]) &&
            color[3] === this.opacity) {
            return;
        }
        const [h, s, v] = tuiRgbToHsv(color[0], color[1], color[2]);
        this.opacity = color[3];
        this.hue = h / 360;
        this.point = [s, 1 - v / 255];
    }
    get currentColor() {
        return this.getCurrentColor(this.hue, this.point);
    }
    get base() {
        return `rgb(${tuiHsvToRgb(this.hue * 360, 1, 255)})`;
    }
    get gradient() {
        return this.sanitizer.bypassSecurityTrustStyle(`linear-gradient(to right, rgba(${this.currentColor.join(',')}, 0), rgb(${this.currentColor.join(',')}))`);
    }
    onPointChange(point) {
        this.point = point;
        this.updateColor();
    }
    onHueChange(hue) {
        this.hue = hue;
        this.updateColor();
    }
    onOpacityChange(opacity) {
        this.opacity = tuiRound(opacity, 2);
        this.updateColor();
    }
    getCurrentColor(hue, point) {
        return tuiHsvToRgb(hue * 360, point[0], (1 - point[1]) * 255);
    }
    updateColor() {
        this.colorChange.emit([...this.currentColor, this.opacity]);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: TuiColorPickerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: TuiColorPickerComponent, selector: "tui-color-picker", inputs: { color: "color" }, outputs: { colorChange: "colorChange" }, ngImport: i0, template: "<tui-flat-picker\n    class=\"t-flat\"\n    [style.backgroundColor]=\"base\"\n    [value]=\"point\"\n    (valueChange)=\"onPointChange($event)\"\n/>\n<div class=\"t-wrapper t-wrapper_hue\">\n    <tui-linear-picker\n        class=\"t-hue\"\n        [value]=\"hue\"\n        (valueChange)=\"onHueChange($event)\"\n    />\n</div>\n<div\n    class=\"t-wrapper t-wrapper_opacity\"\n    [style.background]=\"gradient\"\n>\n    <tui-linear-picker\n        class=\"t-opacity\"\n        [value]=\"opacity\"\n        (valueChange)=\"onOpacityChange($event)\"\n    />\n</div>\n", styles: [":host{position:relative;display:block;isolation:isolate}.t-flat{block-size:14rem;background:linear-gradient(#0000,#000),linear-gradient(to right,#fff,#fff0);margin-bottom:.25rem;overflow:hidden}.t-wrapper{position:relative;margin:1rem 1.25rem;border-radius:.5rem}.t-wrapper:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:\"\";box-shadow:inset 0 0 0 1px #00000014;pointer-events:none;border-radius:inherit}.t-wrapper_hue{background:red}.t-wrapper_opacity:before{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:\"\";z-index:-1;background-image:linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03)),linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03));background-size:.375rem .375rem;background-position:0 0,.1875rem .1875rem;border-radius:inherit}.t-hue{background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red);border-radius:inherit;margin:0 .5rem}.t-opacity{border-radius:inherit;margin:0 .5rem}\n"], dependencies: [{ kind: "component", type: i1.TuiFlatPickerComponent, selector: "tui-flat-picker", inputs: ["value"], outputs: ["valueChange"] }, { kind: "component", type: i2.TuiLinearPickerComponent, selector: "tui-linear-picker", inputs: ["value"], outputs: ["valueChange"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
__decorate([
    tuiPure
], TuiColorPickerComponent.prototype, "getCurrentColor", null);
export { TuiColorPickerComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: TuiColorPickerComponent, decorators: [{
            type: Component,
            args: [{ standalone: false, selector: 'tui-color-picker', changeDetection: ChangeDetectionStrategy.OnPush, template: "<tui-flat-picker\n    class=\"t-flat\"\n    [style.backgroundColor]=\"base\"\n    [value]=\"point\"\n    (valueChange)=\"onPointChange($event)\"\n/>\n<div class=\"t-wrapper t-wrapper_hue\">\n    <tui-linear-picker\n        class=\"t-hue\"\n        [value]=\"hue\"\n        (valueChange)=\"onHueChange($event)\"\n    />\n</div>\n<div\n    class=\"t-wrapper t-wrapper_opacity\"\n    [style.background]=\"gradient\"\n>\n    <tui-linear-picker\n        class=\"t-opacity\"\n        [value]=\"opacity\"\n        (valueChange)=\"onOpacityChange($event)\"\n    />\n</div>\n", styles: [":host{position:relative;display:block;isolation:isolate}.t-flat{block-size:14rem;background:linear-gradient(#0000,#000),linear-gradient(to right,#fff,#fff0);margin-bottom:.25rem;overflow:hidden}.t-wrapper{position:relative;margin:1rem 1.25rem;border-radius:.5rem}.t-wrapper:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:\"\";box-shadow:inset 0 0 0 1px #00000014;pointer-events:none;border-radius:inherit}.t-wrapper_hue{background:red}.t-wrapper_opacity:before{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:\"\";z-index:-1;background-image:linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03)),linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03));background-size:.375rem .375rem;background-position:0 0,.1875rem .1875rem;border-radius:inherit}.t-hue{background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red);border-radius:inherit;margin:0 .5rem}.t-opacity{border-radius:inherit;margin:0 .5rem}\n"] }]
        }], propDecorators: { colorChange: [{
                type: Output
            }], color: [{
                type: Input
            }], getCurrentColor: [] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sb3ItcGlja2VyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2xlZ2FjeS9jb21wb25lbnRzL2NvbG9yLXNlbGVjdG9yL2NvbG9yLXBpY2tlci9jb2xvci1waWNrZXIuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbGVnYWN5L2NvbXBvbmVudHMvY29sb3Itc2VsZWN0b3IvY29sb3ItcGlja2VyL2NvbG9yLXBpY2tlci50ZW1wbGF0ZS5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0gsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxZQUFZLEVBQ1osTUFBTSxFQUNOLEtBQUssRUFDTCxNQUFNLEdBQ1QsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLDJCQUEyQixDQUFDO0FBQ3ZELE9BQU8sRUFBQyxXQUFXLEVBQUUsV0FBVyxFQUFDLE1BQU0sMkJBQTJCLENBQUM7QUFDbkUsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLDBCQUEwQixDQUFDO0FBQ2xELE9BQU8sRUFBQyxPQUFPLEVBQUMsTUFBTSxtQ0FBbUMsQ0FBQzs7OztBQUcxRCxNQU9hLHVCQUF1QjtJQVBwQztRQVFxQixjQUFTLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBRXhDLFVBQUssR0FBYSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN6QixRQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ1IsWUFBTyxHQUFHLENBQUMsQ0FBQztRQUdOLGdCQUFXLEdBQUcsSUFBSSxZQUFZLEVBRTNDLENBQUM7S0E0RFA7SUExREcsSUFDVyxLQUFLLENBQUMsS0FBeUQ7UUFDdEUsSUFDSSxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLElBQUksS0FBSyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDL0QsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxPQUFPLEVBQzNCO1lBQ0UsT0FBTztTQUNWO1FBRUQsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFNUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRUQsSUFBVyxZQUFZO1FBQ25CLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN0RCxDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxPQUFPLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQztJQUN6RCxDQUFDO0lBRUQsSUFBVyxRQUFRO1FBQ2YsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLHdCQUF3QixDQUMxQyxrQ0FBa0MsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQ3BELEdBQUcsQ0FDTixhQUFhLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQ2hELENBQUM7SUFDTixDQUFDO0lBRU0sYUFBYSxDQUFDLEtBQWU7UUFDaEMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFFTSxXQUFXLENBQUMsR0FBVztRQUMxQixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNmLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRU0sZUFBZSxDQUFDLE9BQWU7UUFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBR08sZUFBZSxDQUNuQixHQUFXLEVBQ1gsS0FBZTtRQUVmLE9BQU8sV0FBVyxDQUFDLEdBQUcsR0FBRyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFTyxXQUFXO1FBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDaEUsQ0FBQzsrR0FyRVEsdUJBQXVCO21HQUF2Qix1QkFBdUIsNkhDdEJwQyx3akJBdUJBOztBRDJEWTtJQURQLE9BQU87OERBTVA7U0FqRVEsdUJBQXVCOzRGQUF2Qix1QkFBdUI7a0JBUG5DLFNBQVM7aUNBQ00sS0FBSyxZQUNQLGtCQUFrQixtQkFHWCx1QkFBdUIsQ0FBQyxNQUFNOzhCQVUvQixXQUFXO3NCQUQxQixNQUFNO2dCQU1JLEtBQUs7c0JBRGYsS0FBSztnQkFnREUsZUFBZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gICAgQ29tcG9uZW50LFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBpbmplY3QsXG4gICAgSW5wdXQsXG4gICAgT3V0cHV0LFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB0eXBlIHtTYWZlU3R5bGV9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuaW1wb3J0IHtEb21TYW5pdGl6ZXJ9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuaW1wb3J0IHt0dWlIc3ZUb1JnYiwgdHVpUmdiVG9Ic3Z9IGZyb20gJ0B0YWlnYS11aS9jZGsvdXRpbHMvY29sb3InO1xuaW1wb3J0IHt0dWlSb3VuZH0gZnJvbSAnQHRhaWdhLXVpL2Nkay91dGlscy9tYXRoJztcbmltcG9ydCB7dHVpUHVyZX0gZnJvbSAnQHRhaWdhLXVpL2Nkay91dGlscy9taXNjZWxsYW5lb3VzJztcbmltcG9ydCB0eXBlIHtUdWlQb2ludH0gZnJvbSAnQHRhaWdhLXVpL2NvcmUvdHlwZXMnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzdGFuZGFsb25lOiBmYWxzZSxcbiAgICBzZWxlY3RvcjogJ3R1aS1jb2xvci1waWNrZXInLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9jb2xvci1waWNrZXIudGVtcGxhdGUuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vY29sb3ItcGlja2VyLnN0eWxlLmxlc3MnXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgVHVpQ29sb3JQaWNrZXJDb21wb25lbnQge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc2FuaXRpemVyID0gaW5qZWN0KERvbVNhbml0aXplcik7XG5cbiAgICBwcm90ZWN0ZWQgcG9pbnQ6IFR1aVBvaW50ID0gWzAsIDFdO1xuICAgIHByb3RlY3RlZCBodWUgPSAwO1xuICAgIHByb3RlY3RlZCBvcGFjaXR5ID0gMTtcblxuICAgIEBPdXRwdXQoKVxuICAgIHB1YmxpYyByZWFkb25seSBjb2xvckNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8XG4gICAgICAgIFtoOiBudW1iZXIsIHM6IG51bWJlciwgdjogbnVtYmVyLCBvcGFjaXR5OiBudW1iZXJdXG4gICAgPigpO1xuXG4gICAgQElucHV0KClcbiAgICBwdWJsaWMgc2V0IGNvbG9yKGNvbG9yOiBbaDogbnVtYmVyLCBzOiBudW1iZXIsIHY6IG51bWJlciwgb3BhY2l0eTogbnVtYmVyXSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDb2xvci5ldmVyeSgoaXRlbSwgaW5kZXgpID0+IGl0ZW0gPT09IGNvbG9yW2luZGV4XSkgJiZcbiAgICAgICAgICAgIGNvbG9yWzNdID09PSB0aGlzLm9wYWNpdHlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBbaCwgcywgdl0gPSB0dWlSZ2JUb0hzdihjb2xvclswXSwgY29sb3JbMV0sIGNvbG9yWzJdKTtcblxuICAgICAgICB0aGlzLm9wYWNpdHkgPSBjb2xvclszXTtcbiAgICAgICAgdGhpcy5odWUgPSBoIC8gMzYwO1xuICAgICAgICB0aGlzLnBvaW50ID0gW3MsIDEgLSB2IC8gMjU1XTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGN1cnJlbnRDb2xvcigpOiBbaDogbnVtYmVyLCBzOiBudW1iZXIsIHY6IG51bWJlcl0ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50Q29sb3IodGhpcy5odWUsIHRoaXMucG9pbnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgYmFzZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYHJnYigke3R1aUhzdlRvUmdiKHRoaXMuaHVlICogMzYwLCAxLCAyNTUpfSlgO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgZ3JhZGllbnQoKTogU2FmZVN0eWxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FuaXRpemVyLmJ5cGFzc1NlY3VyaXR5VHJ1c3RTdHlsZShcbiAgICAgICAgICAgIGBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYmEoJHt0aGlzLmN1cnJlbnRDb2xvci5qb2luKFxuICAgICAgICAgICAgICAgICcsJyxcbiAgICAgICAgICAgICl9LCAwKSwgcmdiKCR7dGhpcy5jdXJyZW50Q29sb3Iuam9pbignLCcpfSkpYCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25Qb2ludENoYW5nZShwb2ludDogVHVpUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wb2ludCA9IHBvaW50O1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbG9yKCk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uSHVlQ2hhbmdlKGh1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaHVlID0gaHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbG9yKCk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uT3BhY2l0eUNoYW5nZShvcGFjaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gdHVpUm91bmQob3BhY2l0eSwgMik7XG4gICAgICAgIHRoaXMudXBkYXRlQ29sb3IoKTtcbiAgICB9XG5cbiAgICBAdHVpUHVyZVxuICAgIHByaXZhdGUgZ2V0Q3VycmVudENvbG9yKFxuICAgICAgICBodWU6IG51bWJlcixcbiAgICAgICAgcG9pbnQ6IFR1aVBvaW50LFxuICAgICk6IFtoOiBudW1iZXIsIHM6IG51bWJlciwgdjogbnVtYmVyXSB7XG4gICAgICAgIHJldHVybiB0dWlIc3ZUb1JnYihodWUgKiAzNjAsIHBvaW50WzBdLCAoMSAtIHBvaW50WzFdKSAqIDI1NSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVDb2xvcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb2xvckNoYW5nZS5lbWl0KFsuLi50aGlzLmN1cnJlbnRDb2xvciwgdGhpcy5vcGFjaXR5XSk7XG4gICAgfVxufVxuIiwiPHR1aS1mbGF0LXBpY2tlclxuICAgIGNsYXNzPVwidC1mbGF0XCJcbiAgICBbc3R5bGUuYmFja2dyb3VuZENvbG9yXT1cImJhc2VcIlxuICAgIFt2YWx1ZV09XCJwb2ludFwiXG4gICAgKHZhbHVlQ2hhbmdlKT1cIm9uUG9pbnRDaGFuZ2UoJGV2ZW50KVwiXG4vPlxuPGRpdiBjbGFzcz1cInQtd3JhcHBlciB0LXdyYXBwZXJfaHVlXCI+XG4gICAgPHR1aS1saW5lYXItcGlja2VyXG4gICAgICAgIGNsYXNzPVwidC1odWVcIlxuICAgICAgICBbdmFsdWVdPVwiaHVlXCJcbiAgICAgICAgKHZhbHVlQ2hhbmdlKT1cIm9uSHVlQ2hhbmdlKCRldmVudClcIlxuICAgIC8+XG48L2Rpdj5cbjxkaXZcbiAgICBjbGFzcz1cInQtd3JhcHBlciB0LXdyYXBwZXJfb3BhY2l0eVwiXG4gICAgW3N0eWxlLmJhY2tncm91bmRdPVwiZ3JhZGllbnRcIlxuPlxuICAgIDx0dWktbGluZWFyLXBpY2tlclxuICAgICAgICBjbGFzcz1cInQtb3BhY2l0eVwiXG4gICAgICAgIFt2YWx1ZV09XCJvcGFjaXR5XCJcbiAgICAgICAgKHZhbHVlQ2hhbmdlKT1cIm9uT3BhY2l0eUNoYW5nZSgkZXZlbnQpXCJcbiAgICAvPlxuPC9kaXY+XG4iXX0=