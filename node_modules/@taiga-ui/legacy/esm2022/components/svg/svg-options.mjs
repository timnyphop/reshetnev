import { InjectionToken, Optional, SkipSelf } from '@angular/core';
import { tuiCreateTokenFromFactory, tuiIsString } from '@taiga-ui/cdk/utils/miscellaneous';
import { tuiIconsPathFactory } from '@taiga-ui/legacy/utils';
import { identity } from 'rxjs';
import { tuiSvgLinearGradientProcessor } from './content-processor';
import { TUI_DEPRECATED_ICONS } from './deprecated-icons';
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const TUI_DEFAULT_ICONS_PLACE = 'assets/taiga-ui/icons';
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const TUI_SVG_DEFAULT_OPTIONS = {
    iconsPlace: TUI_DEFAULT_ICONS_PLACE,
    path: tuiIconsPathFactory(TUI_DEFAULT_ICONS_PLACE),
    srcProcessor: identity,
    contentProcessor: tuiSvgLinearGradientProcessor,
    deprecated: (src) => {
        const oldIcon = src.replace('Large', '').replace('Outline', '');
        const newIcon = TUI_DEPRECATED_ICONS[oldIcon];
        return newIcon
            ? `${oldIcon}/(Large|Outline) is deprecated, use ${newIcon}/(Large|Outline) instead`
            : '';
    },
};
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const TUI_SVG_OPTIONS = tuiCreateTokenFromFactory(() => ({
    iconsPlace: TUI_DEFAULT_ICONS_PLACE,
    path: tuiIconsPathFactory(TUI_DEFAULT_ICONS_PLACE),
    deprecated: TUI_SVG_DEFAULT_OPTIONS.deprecated,
    srcProcessor: identity,
    contentProcessor: tuiSvgLinearGradientProcessor,
}));
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const TUI_SVG_SRC_INTERCEPTORS = new InjectionToken('[TUI_SVG_SRC_INTERCEPTORS]');
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export function tuiSvgSrcInterceptors(interceptor) {
    return {
        provide: TUI_SVG_SRC_INTERCEPTORS,
        useValue: interceptor,
        multi: true,
    };
}
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const tuiSvgOptionsProvider = (options) => ({
    provide: TUI_SVG_OPTIONS,
    deps: [[new SkipSelf(), new Optional(), TUI_SVG_OPTIONS]],
    useFactory: (fallback) => ({
        iconsPlace: options.iconsPlace ??
            fallback?.iconsPlace ??
            TUI_SVG_DEFAULT_OPTIONS.iconsPlace,
        path: tuiIsString(options.path)
            ? tuiIconsPathFactory(options.path)
            : (options.path ?? fallback?.path ?? TUI_SVG_DEFAULT_OPTIONS.path),
        deprecated: options.deprecated ??
            fallback?.deprecated ??
            TUI_SVG_DEFAULT_OPTIONS.deprecated,
        srcProcessor: options.srcProcessor ??
            fallback?.srcProcessor ??
            TUI_SVG_DEFAULT_OPTIONS.srcProcessor,
        contentProcessor: options.contentProcessor ??
            fallback?.contentProcessor ??
            TUI_SVG_DEFAULT_OPTIONS.contentProcessor,
    }),
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3ZnLW9wdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9sZWdhY3kvY29tcG9uZW50cy9zdmcvc3ZnLW9wdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFDLGNBQWMsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBRWpFLE9BQU8sRUFBQyx5QkFBeUIsRUFBRSxXQUFXLEVBQUMsTUFBTSxtQ0FBbUMsQ0FBQztBQUN6RixPQUFPLEVBQUMsbUJBQW1CLEVBQUMsTUFBTSx3QkFBd0IsQ0FBQztBQUMzRCxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sTUFBTSxDQUFDO0FBRTlCLE9BQU8sRUFBQyw2QkFBNkIsRUFBQyxNQUFNLHFCQUFxQixDQUFDO0FBQ2xFLE9BQU8sRUFBQyxvQkFBb0IsRUFBQyxNQUFNLG9CQUFvQixDQUFDO0FBRXhEOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLHVCQUF1QixHQUFHLHVCQUF1QixDQUFDO0FBc0IvRDs7O0dBR0c7QUFDSCxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBa0I7SUFDbEQsVUFBVSxFQUFFLHVCQUF1QjtJQUNuQyxJQUFJLEVBQUUsbUJBQW1CLENBQUMsdUJBQXVCLENBQUM7SUFDbEQsWUFBWSxFQUFFLFFBQVE7SUFDdEIsZ0JBQWdCLEVBQUUsNkJBQTZCO0lBQy9DLFVBQVUsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ2hCLE1BQU0sT0FBTyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDaEUsTUFBTSxPQUFPLEdBQUcsb0JBQW9CLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFOUMsT0FBTyxPQUFPO1lBQ1YsQ0FBQyxDQUFDLEdBQUcsT0FBTyx1Q0FBdUMsT0FBTywwQkFBMEI7WUFDcEYsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNiLENBQUM7Q0FDSixDQUFDO0FBRUY7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLHlCQUF5QixDQUFnQixHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQzNFLFVBQVUsRUFBRSx1QkFBdUI7SUFDbkMsSUFBSSxFQUFFLG1CQUFtQixDQUFDLHVCQUF1QixDQUFDO0lBQ2xELFVBQVUsRUFBRSx1QkFBdUIsQ0FBQyxVQUFVO0lBQzlDLFlBQVksRUFBRSxRQUFRO0lBQ3RCLGdCQUFnQixFQUFFLDZCQUE2QjtDQUNsRCxDQUFDLENBQUMsQ0FBQztBQUVKOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLHdCQUF3QixHQUFHLElBQUksY0FBYyxDQUN0RCw0QkFBNEIsQ0FDL0IsQ0FBQztBQUVGOzs7R0FHRztBQUNILE1BQU0sVUFBVSxxQkFBcUIsQ0FBQyxXQUFxQztJQUN2RSxPQUFPO1FBQ0gsT0FBTyxFQUFFLHdCQUF3QjtRQUNqQyxRQUFRLEVBQUUsV0FBVztRQUNyQixLQUFLLEVBQUUsSUFBSTtLQUNkLENBQUM7QUFDTixDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBSVgsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDakMsT0FBTyxFQUFFLGVBQWU7SUFDeEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLFFBQVEsRUFBRSxFQUFFLElBQUksUUFBUSxFQUFFLEVBQUUsZUFBZSxDQUFDLENBQUM7SUFDekQsVUFBVSxFQUFFLENBQUMsUUFBOEIsRUFBaUIsRUFBRSxDQUFDLENBQUM7UUFDNUQsVUFBVSxFQUNOLE9BQU8sQ0FBQyxVQUFVO1lBQ2xCLFFBQVEsRUFBRSxVQUFVO1lBQ3BCLHVCQUF1QixDQUFDLFVBQVU7UUFDdEMsSUFBSSxFQUFFLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQzNCLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQ25DLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLElBQUksUUFBUSxFQUFFLElBQUksSUFBSSx1QkFBdUIsQ0FBQyxJQUFJLENBQUM7UUFDdEUsVUFBVSxFQUNOLE9BQU8sQ0FBQyxVQUFVO1lBQ2xCLFFBQVEsRUFBRSxVQUFVO1lBQ3BCLHVCQUF1QixDQUFDLFVBQVU7UUFDdEMsWUFBWSxFQUNSLE9BQU8sQ0FBQyxZQUFZO1lBQ3BCLFFBQVEsRUFBRSxZQUFZO1lBQ3RCLHVCQUF1QixDQUFDLFlBQVk7UUFDeEMsZ0JBQWdCLEVBQ1osT0FBTyxDQUFDLGdCQUFnQjtZQUN4QixRQUFRLEVBQUUsZ0JBQWdCO1lBQzFCLHVCQUF1QixDQUFDLGdCQUFnQjtLQUMvQyxDQUFDO0NBQ0wsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUge0ZhY3RvcnlQcm92aWRlciwgUHJvdmlkZXJ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtJbmplY3Rpb25Ub2tlbiwgT3B0aW9uYWwsIFNraXBTZWxmfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB0eXBlIHtUdWlIYW5kbGVyLCBUdWlTYWZlSHRtbCwgVHVpU3RyaW5nSGFuZGxlcn0gZnJvbSAnQHRhaWdhLXVpL2Nkay90eXBlcyc7XG5pbXBvcnQge3R1aUNyZWF0ZVRva2VuRnJvbUZhY3RvcnksIHR1aUlzU3RyaW5nfSBmcm9tICdAdGFpZ2EtdWkvY2RrL3V0aWxzL21pc2NlbGxhbmVvdXMnO1xuaW1wb3J0IHt0dWlJY29uc1BhdGhGYWN0b3J5fSBmcm9tICdAdGFpZ2EtdWkvbGVnYWN5L3V0aWxzJztcbmltcG9ydCB7aWRlbnRpdHl9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQge3R1aVN2Z0xpbmVhckdyYWRpZW50UHJvY2Vzc29yfSBmcm9tICcuL2NvbnRlbnQtcHJvY2Vzc29yJztcbmltcG9ydCB7VFVJX0RFUFJFQ0FURURfSUNPTlN9IGZyb20gJy4vZGVwcmVjYXRlZC1pY29ucyc7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQ6IGRyb3AgaW4gdjUuMCB1c2Uge0BsaW5rIFR1aUljb259XG4gKiBodHRwczovL3RhaWdhLXVpLmRldi9jb21wb25lbnRzL2ljb25cbiAqL1xuZXhwb3J0IGNvbnN0IFRVSV9ERUZBVUxUX0lDT05TX1BMQUNFID0gJ2Fzc2V0cy90YWlnYS11aS9pY29ucyc7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQ6IGRyb3AgaW4gdjUuMCB1c2Uge0BsaW5rIFR1aUljb259XG4gKiBodHRwczovL3RhaWdhLXVpLmRldi9jb21wb25lbnRzL2ljb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUdWlTdmdPcHRpb25zIHtcbiAgICByZWFkb25seSBjb250ZW50UHJvY2Vzc29yOiBUdWlIYW5kbGVyPFR1aVNhZmVIdG1sLCBUdWlTYWZlSHRtbD47XG4gICAgcmVhZG9ubHkgZGVwcmVjYXRlZDogVHVpU3RyaW5nSGFuZGxlcjxzdHJpbmc+O1xuICAgIHJlYWRvbmx5IGljb25zUGxhY2U6IHN0cmluZztcbiAgICByZWFkb25seSBwYXRoOiAobmFtZTogc3RyaW5nLCBiYXNlSHJlZj86IHN0cmluZykgPT4gc3RyaW5nO1xuICAgIHJlYWRvbmx5IHNyY1Byb2Nlc3NvcjogVHVpSGFuZGxlcjxUdWlTYWZlSHRtbCwgVHVpU2FmZUh0bWw+O1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkOiBkcm9wIGluIHY1LjAgdXNlIHtAbGluayBUdWlJY29ufVxuICogaHR0cHM6Ly90YWlnYS11aS5kZXYvY29tcG9uZW50cy9pY29uXG4gKi9cbmV4cG9ydCB0eXBlIFR1aVN2Z0ludGVyY2VwdG9ySGFuZGxlciA9XG4gICAgfCAoKHNyYzogVHVpU2FmZUh0bWwsIG9wdGlvbnM6IFR1aVN2Z09wdGlvbnMpID0+IFR1aVNhZmVIdG1sKVxuICAgIHwgKChzcmM6IFR1aVNhZmVIdG1sKSA9PiBUdWlTYWZlSHRtbCk7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQ6IGRyb3AgaW4gdjUuMCB1c2Uge0BsaW5rIFR1aUljb259XG4gKiBodHRwczovL3RhaWdhLXVpLmRldi9jb21wb25lbnRzL2ljb25cbiAqL1xuZXhwb3J0IGNvbnN0IFRVSV9TVkdfREVGQVVMVF9PUFRJT05TOiBUdWlTdmdPcHRpb25zID0ge1xuICAgIGljb25zUGxhY2U6IFRVSV9ERUZBVUxUX0lDT05TX1BMQUNFLFxuICAgIHBhdGg6IHR1aUljb25zUGF0aEZhY3RvcnkoVFVJX0RFRkFVTFRfSUNPTlNfUExBQ0UpLFxuICAgIHNyY1Byb2Nlc3NvcjogaWRlbnRpdHksXG4gICAgY29udGVudFByb2Nlc3NvcjogdHVpU3ZnTGluZWFyR3JhZGllbnRQcm9jZXNzb3IsXG4gICAgZGVwcmVjYXRlZDogKHNyYykgPT4ge1xuICAgICAgICBjb25zdCBvbGRJY29uID0gc3JjLnJlcGxhY2UoJ0xhcmdlJywgJycpLnJlcGxhY2UoJ091dGxpbmUnLCAnJyk7XG4gICAgICAgIGNvbnN0IG5ld0ljb24gPSBUVUlfREVQUkVDQVRFRF9JQ09OU1tvbGRJY29uXTtcblxuICAgICAgICByZXR1cm4gbmV3SWNvblxuICAgICAgICAgICAgPyBgJHtvbGRJY29ufS8oTGFyZ2V8T3V0bGluZSkgaXMgZGVwcmVjYXRlZCwgdXNlICR7bmV3SWNvbn0vKExhcmdlfE91dGxpbmUpIGluc3RlYWRgXG4gICAgICAgICAgICA6ICcnO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkOiBkcm9wIGluIHY1LjAgdXNlIHtAbGluayBUdWlJY29ufVxuICogaHR0cHM6Ly90YWlnYS11aS5kZXYvY29tcG9uZW50cy9pY29uXG4gKi9cbmV4cG9ydCBjb25zdCBUVUlfU1ZHX09QVElPTlMgPSB0dWlDcmVhdGVUb2tlbkZyb21GYWN0b3J5PFR1aVN2Z09wdGlvbnM+KCgpID0+ICh7XG4gICAgaWNvbnNQbGFjZTogVFVJX0RFRkFVTFRfSUNPTlNfUExBQ0UsXG4gICAgcGF0aDogdHVpSWNvbnNQYXRoRmFjdG9yeShUVUlfREVGQVVMVF9JQ09OU19QTEFDRSksXG4gICAgZGVwcmVjYXRlZDogVFVJX1NWR19ERUZBVUxUX09QVElPTlMuZGVwcmVjYXRlZCxcbiAgICBzcmNQcm9jZXNzb3I6IGlkZW50aXR5LFxuICAgIGNvbnRlbnRQcm9jZXNzb3I6IHR1aVN2Z0xpbmVhckdyYWRpZW50UHJvY2Vzc29yLFxufSkpO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkOiBkcm9wIGluIHY1LjAgdXNlIHtAbGluayBUdWlJY29ufVxuICogaHR0cHM6Ly90YWlnYS11aS5kZXYvY29tcG9uZW50cy9pY29uXG4gKi9cbmV4cG9ydCBjb25zdCBUVUlfU1ZHX1NSQ19JTlRFUkNFUFRPUlMgPSBuZXcgSW5qZWN0aW9uVG9rZW48VHVpU3ZnSW50ZXJjZXB0b3JIYW5kbGVyPihcbiAgICAnW1RVSV9TVkdfU1JDX0lOVEVSQ0VQVE9SU10nLFxuKTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZDogZHJvcCBpbiB2NS4wIHVzZSB7QGxpbmsgVHVpSWNvbn1cbiAqIGh0dHBzOi8vdGFpZ2EtdWkuZGV2L2NvbXBvbmVudHMvaWNvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdHVpU3ZnU3JjSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yOiBUdWlTdmdJbnRlcmNlcHRvckhhbmRsZXIpOiBQcm92aWRlciB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvdmlkZTogVFVJX1NWR19TUkNfSU5URVJDRVBUT1JTLFxuICAgICAgICB1c2VWYWx1ZTogaW50ZXJjZXB0b3IsXG4gICAgICAgIG11bHRpOiB0cnVlLFxuICAgIH07XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQ6IGRyb3AgaW4gdjUuMCB1c2Uge0BsaW5rIFR1aUljb259XG4gKiBodHRwczovL3RhaWdhLXVpLmRldi9jb21wb25lbnRzL2ljb25cbiAqL1xuZXhwb3J0IGNvbnN0IHR1aVN2Z09wdGlvbnNQcm92aWRlcjogKFxuICAgIG9wdGlvbnM6IFBhcnRpYWw8T21pdDxUdWlTdmdPcHRpb25zLCAncGF0aCc+PiAmIHtcbiAgICAgICAgcGF0aD86IFR1aVN2Z09wdGlvbnNbJ3BhdGgnXSB8IHN0cmluZztcbiAgICB9LFxuKSA9PiBGYWN0b3J5UHJvdmlkZXIgPSAob3B0aW9ucykgPT4gKHtcbiAgICBwcm92aWRlOiBUVUlfU1ZHX09QVElPTlMsXG4gICAgZGVwczogW1tuZXcgU2tpcFNlbGYoKSwgbmV3IE9wdGlvbmFsKCksIFRVSV9TVkdfT1BUSU9OU11dLFxuICAgIHVzZUZhY3Rvcnk6IChmYWxsYmFjazogVHVpU3ZnT3B0aW9ucyB8IG51bGwpOiBUdWlTdmdPcHRpb25zID0+ICh7XG4gICAgICAgIGljb25zUGxhY2U6XG4gICAgICAgICAgICBvcHRpb25zLmljb25zUGxhY2UgPz9cbiAgICAgICAgICAgIGZhbGxiYWNrPy5pY29uc1BsYWNlID8/XG4gICAgICAgICAgICBUVUlfU1ZHX0RFRkFVTFRfT1BUSU9OUy5pY29uc1BsYWNlLFxuICAgICAgICBwYXRoOiB0dWlJc1N0cmluZyhvcHRpb25zLnBhdGgpXG4gICAgICAgICAgICA/IHR1aUljb25zUGF0aEZhY3Rvcnkob3B0aW9ucy5wYXRoKVxuICAgICAgICAgICAgOiAob3B0aW9ucy5wYXRoID8/IGZhbGxiYWNrPy5wYXRoID8/IFRVSV9TVkdfREVGQVVMVF9PUFRJT05TLnBhdGgpLFxuICAgICAgICBkZXByZWNhdGVkOlxuICAgICAgICAgICAgb3B0aW9ucy5kZXByZWNhdGVkID8/XG4gICAgICAgICAgICBmYWxsYmFjaz8uZGVwcmVjYXRlZCA/P1xuICAgICAgICAgICAgVFVJX1NWR19ERUZBVUxUX09QVElPTlMuZGVwcmVjYXRlZCxcbiAgICAgICAgc3JjUHJvY2Vzc29yOlxuICAgICAgICAgICAgb3B0aW9ucy5zcmNQcm9jZXNzb3IgPz9cbiAgICAgICAgICAgIGZhbGxiYWNrPy5zcmNQcm9jZXNzb3IgPz9cbiAgICAgICAgICAgIFRVSV9TVkdfREVGQVVMVF9PUFRJT05TLnNyY1Byb2Nlc3NvcixcbiAgICAgICAgY29udGVudFByb2Nlc3NvcjpcbiAgICAgICAgICAgIG9wdGlvbnMuY29udGVudFByb2Nlc3NvciA/P1xuICAgICAgICAgICAgZmFsbGJhY2s/LmNvbnRlbnRQcm9jZXNzb3IgPz9cbiAgICAgICAgICAgIFRVSV9TVkdfREVGQVVMVF9PUFRJT05TLmNvbnRlbnRQcm9jZXNzb3IsXG4gICAgfSksXG59KTtcbiJdfQ==