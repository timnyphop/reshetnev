{"version":3,"file":"taiga-ui-legacy-components-multi-select.mjs","sources":["../../../projects/legacy/components/multi-select/multi-select.options.ts","../../../projects/legacy/components/multi-select/native-multi-select/native-multi-select.ts","../../../projects/legacy/components/multi-select/multi-select.component.ts","../../../projects/legacy/components/multi-select/multi-select.template.html","../../../projects/legacy/components/multi-select/hide-selected.pipe.ts","../../../projects/legacy/components/multi-select/multi-select.directive.ts","../../../projects/legacy/components/multi-select/multi-select-group/multi-select-group.component.ts","../../../projects/legacy/components/multi-select/multi-select-group/multi-select-group.template.html","../../../projects/legacy/components/multi-select/multi-select-group/multi-select-group.directive.ts","../../../projects/legacy/components/multi-select/native-multi-select/native-multi-select.component.ts","../../../projects/legacy/components/multi-select/native-multi-select/native-multi-select.template.html","../../../projects/legacy/components/multi-select/native-multi-select/native-multi-select-group.component.ts","../../../projects/legacy/components/multi-select/native-multi-select/native-multi-select-group.template.html","../../../projects/legacy/components/multi-select/multi-select.module.ts","../../../projects/legacy/components/multi-select/taiga-ui-legacy-components-multi-select.ts"],"sourcesContent":["import type {Provider} from '@angular/core';\nimport type {TuiContext} from '@taiga-ui/cdk/types';\nimport {tuiCreateToken, tuiProvideOptions} from '@taiga-ui/cdk/utils/miscellaneous';\nimport type {PolymorpheusContent} from '@taiga-ui/polymorpheus';\n\nexport interface TuiMultiSelectOptions<T> {\n    readonly rows: number;\n    readonly valueContent: PolymorpheusContent<TuiContext<readonly T[]>>;\n}\n\nexport const TUI_MULTI_SELECT_DEFAULT_OPTIONS: TuiMultiSelectOptions<unknown> = {\n    rows: Infinity,\n    valueContent: '',\n};\n\n/**\n * @deprecated: drop in v5.0\n * Default parameters for MultiSelect component\n */\nexport const TUI_MULTI_SELECT_OPTIONS = tuiCreateToken(TUI_MULTI_SELECT_DEFAULT_OPTIONS);\n\nexport function tuiMultiSelectOptionsProvider<T>(\n    options: Partial<TuiMultiSelectOptions<T>>,\n): Provider {\n    return tuiProvideOptions(\n        TUI_MULTI_SELECT_OPTIONS,\n        options,\n        TUI_MULTI_SELECT_DEFAULT_OPTIONS,\n    );\n}\n","import {Directive} from '@angular/core';\nimport type {TuiMapper} from '@taiga-ui/cdk/types';\nimport type {TuiItemsHandlers} from '@taiga-ui/kit/tokens';\nimport {AbstractTuiNativeSelect} from '@taiga-ui/legacy/classes';\n\nimport type {TuiMultiSelectDirective} from '../multi-select.directive';\n\n@Directive()\nexport abstract class AbstractTuiNativeMultiSelect<T> extends AbstractTuiNativeSelect<\n    TuiMultiSelectDirective<T>,\n    T\n> {\n    protected get stringify(): TuiItemsHandlers<T>['stringify'] {\n        return this.host.stringify;\n    }\n\n    protected selectedMapper: TuiMapper<[T, ...any[]], boolean> = (option, value) =>\n        value.includes(option);\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    ContentChild,\n    EventEmitter,\n    inject,\n    Input,\n    Output,\n    TemplateRef,\n    ViewChild,\n} from '@angular/core';\nimport {EMPTY_ARRAY, TUI_TRUE_HANDLER} from '@taiga-ui/cdk/constants';\nimport type {TuiActiveZone} from '@taiga-ui/cdk/directives/active-zone';\nimport {TUI_IS_MOBILE} from '@taiga-ui/cdk/tokens';\nimport type {\n    TuiBooleanHandler,\n    TuiContext,\n    TuiMapper,\n    TuiStringHandler,\n} from '@taiga-ui/cdk/types';\nimport {tuiIsNativeFocused} from '@taiga-ui/cdk/utils/focus';\nimport {tuiArrayToggle, tuiIsString, tuiPure} from '@taiga-ui/cdk/utils/miscellaneous';\nimport type {\n    TuiDataListAccessor,\n    TuiDataListHost,\n} from '@taiga-ui/core/components/data-list';\nimport {\n    TUI_DATA_LIST_ACCESSOR,\n    tuiAsDataListHost,\n    TuiDataListDirective,\n} from '@taiga-ui/core/components/data-list';\nimport {TuiDropdownOpen} from '@taiga-ui/core/directives/dropdown';\nimport type {TuiSizeL, TuiSizeM, TuiSizeS} from '@taiga-ui/core/types';\nimport type {TuiItemsHandlers} from '@taiga-ui/kit/tokens';\nimport {TUI_ITEMS_HANDLERS} from '@taiga-ui/kit/tokens';\nimport {\n    AbstractTuiMultipleControl,\n    tuiAsControl,\n    TuiStringifiableItem,\n} from '@taiga-ui/legacy/classes';\nimport {TUI_ARROW_MODE} from '@taiga-ui/legacy/components/arrow';\nimport {TuiInputTagComponent} from '@taiga-ui/legacy/components/input-tag';\nimport {\n    TEXTFIELD_CONTROLLER_PROVIDER,\n    TUI_TEXTFIELD_WATCHED_CONTROLLER,\n} from '@taiga-ui/legacy/directives';\nimport type {TuiFocusableElementAccessor} from '@taiga-ui/legacy/tokens';\nimport {tuiAsFocusableItemAccessor} from '@taiga-ui/legacy/tokens';\nimport {FIXED_DROPDOWN_CONTROLLER_PROVIDER} from '@taiga-ui/legacy/utils';\nimport type {PolymorpheusContent} from '@taiga-ui/polymorpheus';\n\nimport type {TuiMultiSelectOptions} from './multi-select.options';\nimport {TUI_MULTI_SELECT_OPTIONS} from './multi-select.options';\nimport {AbstractTuiNativeMultiSelect} from './native-multi-select/native-multi-select';\n\n@Component({\n    standalone: false,\n    selector: 'tui-multi-select',\n    templateUrl: './multi-select.template.html',\n    styleUrls: ['./multi-select.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [\n        tuiAsFocusableItemAccessor(TuiMultiSelectComponent),\n        tuiAsControl(TuiMultiSelectComponent),\n        tuiAsDataListHost(TuiMultiSelectComponent),\n        TEXTFIELD_CONTROLLER_PROVIDER,\n    ],\n    viewProviders: [FIXED_DROPDOWN_CONTROLLER_PROVIDER],\n    host: {\n        '[attr.data-size]': 'size',\n        '[class._editable]': 'editable',\n        '[class._expandable]': 'rows > 1',\n    },\n})\nexport class TuiMultiSelectComponent<T>\n    extends AbstractTuiMultipleControl<T>\n    implements TuiFocusableElementAccessor, TuiDataListHost<T>\n{\n    @ContentChild(TUI_DATA_LIST_ACCESSOR as any)\n    private readonly accessor?: TuiDataListAccessor<T>;\n\n    @ContentChild(AbstractTuiNativeMultiSelect, {static: true})\n    private readonly nativeSelect?: AbstractTuiNativeMultiSelect<T>;\n\n    @ViewChild(TuiDropdownOpen)\n    private readonly dropdown?: TuiDropdownOpen;\n\n    @ViewChild(TuiInputTagComponent)\n    private readonly input?: TuiInputTagComponent;\n\n    private readonly arrowMode = inject(TUI_ARROW_MODE);\n    private readonly itemsHandlers = inject<TuiItemsHandlers<T>>(TUI_ITEMS_HANDLERS);\n    private readonly options = inject<TuiMultiSelectOptions<T>>(TUI_MULTI_SELECT_OPTIONS);\n\n    @ContentChild(TuiDataListDirective, {read: TemplateRef})\n    protected readonly datalist: PolymorpheusContent<TuiContext<TuiActiveZone>>;\n\n    protected open = false;\n    protected readonly controller = inject(TUI_TEXTFIELD_WATCHED_CONTROLLER);\n    protected readonly isMobile: boolean = inject(TUI_IS_MOBILE);\n\n    @Input()\n    public stringify: TuiItemsHandlers<T>['stringify'] = this.itemsHandlers.stringify;\n\n    @Input()\n    public identityMatcher: TuiItemsHandlers<T>['identityMatcher'] =\n        this.itemsHandlers.identityMatcher;\n\n    @Input()\n    public search: string | null = '';\n\n    @Input()\n    public placeholder = '';\n\n    @Input()\n    public editable = true;\n\n    @Input()\n    public disabledItemHandler: TuiItemsHandlers<T>['disabledItemHandler'] =\n        this.itemsHandlers.disabledItemHandler;\n\n    @Input()\n    public valueContent: TuiMultiSelectOptions<T>['valueContent'] =\n        this.options.valueContent;\n\n    @Input()\n    public tagValidator: TuiBooleanHandler<T> = TUI_TRUE_HANDLER;\n\n    @Input()\n    public rows: TuiMultiSelectOptions<T>['rows'] = this.options.rows;\n\n    @Input()\n    public autoColor = false;\n\n    @Output()\n    public readonly searchChange = new EventEmitter<string | null>();\n\n    public get size(): TuiSizeL | TuiSizeS {\n        return this.controller.size;\n    }\n\n    public get nativeFocusableElement(): HTMLInputElement | null {\n        return this.input?.nativeFocusableElement ?? null;\n    }\n\n    public get focused(): boolean {\n        return !!this.input?.focused || !!this.dropdown?.tuiDropdownOpen;\n    }\n\n    public onValueChange(value: readonly T[]): void {\n        this.value = value;\n    }\n\n    public onSearch(search: string | null): void {\n        // Clearing sets the empty value, the dropdown should not be opened on clear.\n        if (search !== '') {\n            this.open = true;\n        }\n\n        this.updateSearch(search);\n    }\n\n    public override setDisabledState(): void {\n        super.setDisabledState();\n        this.open = false;\n    }\n\n    public handleOption(option: T): void {\n        const {value, identityMatcher} = this;\n        const index = value.findIndex((item) => identityMatcher(item, option));\n\n        this.value =\n            index === -1 ? [...value, option] : value.filter((_, i) => i !== index);\n        this.updateSearch(null);\n    }\n\n    protected get arrow(): PolymorpheusContent<\n        TuiContext<TuiSizeL | TuiSizeM | TuiSizeS>\n    > {\n        return this.interactive ? this.arrowMode.interactive : this.arrowMode.disabled;\n    }\n\n    protected get nativeDropdownMode(): boolean {\n        return !!this.nativeSelect && this.isMobile && !this.editable;\n    }\n\n    protected get computedValue(): readonly T[] {\n        return this.computedGroup ? EMPTY_ARRAY : this.value;\n    }\n\n    // @bad TODO: think of a better way\n    protected get searchOrSpace(): string {\n        return this.computedGroup ? ' ' : this.searchString;\n    }\n\n    protected get searchString(): string {\n        return this.search === null ? '' : this.search;\n    }\n\n    protected get computedGroup(): boolean {\n        return (\n            !!this.valueContent &&\n            this.value.length > 0 &&\n            (!this.focused || !this.editable)\n        );\n    }\n\n    @tuiPure\n    protected getStringifier(\n        stringify: TuiStringHandler<T>,\n    ): TuiStringHandler<TuiContext<T>> {\n        return ({$implicit}) => stringify($implicit);\n    }\n\n    protected readonly valueMapper: TuiMapper<\n        [readonly T[], TuiStringHandler<T>, boolean?],\n        ReadonlyArray<TuiStringifiableItem<T>>\n    > = (value, stringify, group) =>\n        group\n            ? EMPTY_ARRAY\n            : value.map((item) => new TuiStringifiableItem(item, stringify));\n\n    protected readonly disabledItemHandlerWrapper: TuiMapper<\n        [TuiBooleanHandler<T>],\n        TuiBooleanHandler<TuiStringifiableItem<T> | string>\n    > = (handler) => (stringifiable) =>\n        tuiIsString(stringifiable) || handler(stringifiable.item);\n\n    protected onSpace(event: Event): void {\n        if (!this.editable) {\n            event.preventDefault();\n        }\n\n        if (!this.readOnly) {\n            this.open = true;\n        }\n    }\n\n    protected onEnter(event: Event): void {\n        const {value} = this;\n        const options = this.accessor ? this.accessor.getOptions() : [];\n\n        if (options.length !== 1) {\n            return;\n        }\n\n        event.preventDefault();\n        this.value = options[0] ? tuiArrayToggle(value, options[0]) : value;\n        this.updateSearch(null);\n    }\n\n    protected onClick({nativeFocusableElement}: TuiInputTagComponent): void {\n        if (\n            this.interactive &&\n            nativeFocusableElement &&\n            tuiIsNativeFocused(nativeFocusableElement)\n        ) {\n            this.open = !this.open;\n        }\n    }\n\n    protected onInput(value: ReadonlyArray<TuiStringifiableItem<T>>): void {\n        this.value = value.map(({item}) => item);\n    }\n\n    protected onActiveZone(active: boolean): void {\n        this.updateFocused(active);\n    }\n\n    private updateSearch(search: string | null): void {\n        if (this.search === search) {\n            return;\n        }\n\n        this.search = search;\n        this.searchChange.emit(search);\n    }\n}\n","<div\n    tuiDropdownOpenMonitor\n    class=\"t-hosted\"\n    [tuiDropdown]=\"datalist || ''\"\n    [tuiDropdownEnabled]=\"interactive && !nativeDropdownMode\"\n    [(tuiDropdownOpen)]=\"open\"\n    (tuiActiveZoneChange)=\"onActiveZone($event)\"\n>\n    <tui-input-tag\n        #inputTag\n        automation-id=\"tui-multi-select__input\"\n        class=\"t-input\"\n        [autoColor]=\"autoColor\"\n        [disabled]=\"disabled\"\n        [disabledItemHandler]=\"disabledItemHandler | tuiMapper: disabledItemHandlerWrapper\"\n        [editable]=\"false\"\n        [inputHidden]=\"!editable\"\n        [nativeId]=\"nativeId\"\n        [ngModel]=\"computedValue | tuiMapper: valueMapper : stringify\"\n        [ngModelOptions]=\"{standalone: true}\"\n        [placeholder]=\"placeholder\"\n        [pseudoFocus]=\"computedFocused\"\n        [pseudoHover]=\"pseudoHover\"\n        [pseudoInvalid]=\"computedInvalid\"\n        [pseudoOpen]=\"open\"\n        [readOnly]=\"readOnly\"\n        [removable]=\"!nativeDropdownMode\"\n        [rows]=\"rows\"\n        [search]=\"searchOrSpace\"\n        [tagValidator]=\"tagValidator | tuiMapper: disabledItemHandlerWrapper\"\n        [tuiTextfieldIcon]=\"arrow ? icon : ''\"\n        (click.prevent)=\"onClick(inputTag)\"\n        (keydown.enter)=\"onEnter($event)\"\n        (keydown.space)=\"onSpace($event)\"\n        (ngModelChange)=\"onInput($event)\"\n        (searchChange)=\"onSearch($event)\"\n    >\n        <ng-content />\n        <ng-template #select>\n            <ng-content\n                *ngIf=\"isMobile\"\n                select=\"select\"\n            />\n        </ng-template>\n\n        <ng-container\n            *ngTemplateOutlet=\"select\"\n            ngProjectAs=\"select\"\n        />\n\n        <div\n            *ngIf=\"computedGroup\"\n            ngProjectAs=\"tuiContent\"\n            class=\"t-content\"\n            [class.t-content_fullsize]=\"inputTag.labelOutside\"\n        >\n            <span\n                *polymorpheusOutlet=\"valueContent as text; context: {$implicit: value}\"\n                class=\"t-primitive\"\n            >\n                {{ text }}\n            </span>\n        </div>\n    </tui-input-tag>\n\n    <ng-template #icon>\n        <div\n            appearance=\"icon\"\n            automation-id=\"tui-multi-select__arrow\"\n            tuiWrapper\n            class=\"t-arrow\"\n            [class.t-arrow_native-dropdown]=\"nativeDropdownMode\"\n            (mousedown.prevent.silent)=\"(0)\"\n        >\n            <ng-container *polymorpheusOutlet=\"arrow as text\">\n                {{ text }}\n            </ng-container>\n        </div>\n    </ng-template>\n</div>\n","import type {PipeTransform} from '@angular/core';\nimport {inject, Pipe} from '@angular/core';\nimport type {TuiIdentityMatcher} from '@taiga-ui/cdk/types';\nimport {tuiPure} from '@taiga-ui/cdk/utils/miscellaneous';\nimport {tuiIsFlat} from '@taiga-ui/kit/utils';\n\nimport {TuiMultiSelectComponent} from './multi-select.component';\n\n@Pipe({\n    standalone: false,\n    name: 'tuiHideSelected',\n    pure: false,\n})\nexport class TuiHideSelectedPipe implements PipeTransform {\n    private readonly component = inject(TuiMultiSelectComponent);\n\n    public transform<T>(items: readonly T[] | null): readonly T[] | null;\n    public transform<T>(\n        items: ReadonlyArray<readonly T[]> | null,\n    ): ReadonlyArray<readonly T[]> | null;\n    public transform<T>(\n        items: ReadonlyArray<readonly T[]> | readonly T[] | null,\n    ): ReadonlyArray<readonly T[]> | readonly T[] | null {\n        const {value, identityMatcher} = this.component;\n\n        if (!items) {\n            return null;\n        }\n\n        return tuiIsFlat(items)\n            ? this.filter(items, value, identityMatcher)\n            : this.filter2d(items, value, identityMatcher);\n    }\n\n    @tuiPure\n    private filter2d<T>(\n        items: ReadonlyArray<readonly T[]>,\n        value: readonly T[],\n        matcher: TuiIdentityMatcher<T>,\n    ): ReadonlyArray<readonly T[]> {\n        return items.map((subItems) => this.filter(subItems, value, matcher));\n    }\n\n    @tuiPure\n    private filter<T>(\n        items: readonly T[],\n        value: readonly T[],\n        matcher: TuiIdentityMatcher<T>,\n    ): readonly T[] {\n        return items.filter((item) =>\n            value.every((selected) => !matcher(selected, item)),\n        );\n    }\n}\n","import {Directive} from '@angular/core';\nimport type {TuiBooleanHandler} from '@taiga-ui/cdk/types';\nimport type {TuiItemsHandlers} from '@taiga-ui/kit/tokens';\nimport {AbstractTuiTextfieldHost} from '@taiga-ui/legacy/classes';\nimport {tuiAsTextfieldHost} from '@taiga-ui/legacy/tokens';\n\nimport type {TuiMultiSelectComponent} from './multi-select.component';\n\n@Directive({\n    standalone: false,\n    selector: 'tui-multi-select',\n    providers: [tuiAsTextfieldHost(TuiMultiSelectDirective)],\n})\nexport class TuiMultiSelectDirective<T = string> extends AbstractTuiTextfieldHost<\n    TuiMultiSelectComponent<T>\n> {\n    public override get readOnly(): boolean {\n        return true;\n    }\n\n    public get stringify(): TuiItemsHandlers<T>['stringify'] {\n        return this.host.stringify;\n    }\n\n    public disableItemHandler: TuiBooleanHandler<T> = (item) =>\n        this.host.disabledItemHandler(item);\n\n    public onValueChange(): void {}\n\n    public onSelectionChange(value: T[]): void {\n        this.host.onValueChange(value);\n    }\n}\n","import type {QueryList} from '@angular/core';\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    ContentChildren,\n    inject,\n    Input,\n} from '@angular/core';\nimport {NgControl} from '@angular/forms';\nimport {EMPTY_QUERY, TUI_DEFAULT_IDENTITY_MATCHER} from '@taiga-ui/cdk/constants';\nimport {tuiControlValue, tuiQueryListChanges} from '@taiga-ui/cdk/observables';\nimport type {TuiIdentityMatcher} from '@taiga-ui/cdk/types';\nimport {\n    tuiGetOriginalArrayFromQueryList,\n    tuiIsPresent,\n    tuiPure,\n} from '@taiga-ui/cdk/utils/miscellaneous';\nimport type {TuiDataListHost} from '@taiga-ui/core/components/data-list';\nimport {TUI_DATA_LIST_HOST, TuiOption} from '@taiga-ui/core/components/data-list';\nimport {TUI_MULTI_SELECT_TEXTS} from '@taiga-ui/kit/tokens';\nimport type {Observable} from 'rxjs';\nimport {combineLatest, map} from 'rxjs';\n\n@Component({\n    standalone: false,\n    selector: 'tui-opt-group[tuiMultiSelectGroup]',\n    templateUrl: './multi-select-group.template.html',\n    styleUrls: ['./multi-select-group.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: {\n        '[class._label]': 'label',\n    },\n})\nexport class TuiMultiSelectGroupComponent<T> {\n    @ContentChildren(TuiOption)\n    private readonly options: QueryList<TuiOption<T>> = EMPTY_QUERY;\n\n    private readonly host = inject<TuiDataListHost<T>>(TUI_DATA_LIST_HOST);\n    private readonly control = inject(NgControl);\n\n    protected readonly multiSelectTexts$ = inject(TUI_MULTI_SELECT_TEXTS);\n\n    @Input()\n    public label = '';\n\n    @tuiPure\n    protected get empty$(): Observable<boolean> {\n        return tuiQueryListChanges(this.options).pipe(map(({length}) => !length));\n    }\n\n    @tuiPure\n    protected get disabled$(): Observable<boolean> {\n        return tuiQueryListChanges(this.options).pipe(\n            map((items) => items.every(({disabled}) => disabled)),\n        );\n    }\n\n    @tuiPure\n    protected get value$(): Observable<boolean | null> {\n        return combineLatest([this.items$, this.valueChanges$]).pipe(\n            map(([items, current]) => {\n                let result = false;\n\n                for (let i = 0; i < items.length; i++) {\n                    const selected = current.some((selected) =>\n                        this.matcher(selected, items[i]!),\n                    );\n\n                    if ((!selected && result) || (selected && !result && i)) {\n                        return null;\n                    }\n\n                    result = selected;\n                }\n\n                return result;\n            }),\n        );\n    }\n\n    protected onClick(checked: boolean | null): void {\n        if (!this.control.control) {\n            return;\n        }\n\n        const controlValue: readonly T[] = this.control.value || [];\n        const {values} = this;\n        const filtered = controlValue.filter((current) =>\n            values.every((item) => !this.matcher(current, item)),\n        );\n\n        this.control.control.setValue(checked ? filtered : [...filtered, ...values]);\n    }\n\n    @tuiPure\n    private get items$(): Observable<readonly T[]> {\n        return tuiQueryListChanges(this.options).pipe(\n            map((options) => options.map(({value}) => value).filter(tuiIsPresent)),\n        );\n    }\n\n    @tuiPure\n    private get valueChanges$(): Observable<readonly T[]> {\n        return tuiControlValue<readonly T[]>(this.control).pipe(\n            map((value) => value || []),\n        );\n    }\n\n    private get values(): readonly T[] {\n        return this.filter(tuiGetOriginalArrayFromQueryList(this.options));\n    }\n\n    private get matcher(): TuiIdentityMatcher<T> {\n        return this.host.identityMatcher || TUI_DEFAULT_IDENTITY_MATCHER;\n    }\n\n    @tuiPure\n    private filter(items: ReadonlyArray<TuiOption<T>>): readonly T[] {\n        return items.map(({value}) => value).filter(tuiIsPresent);\n    }\n}\n","<span\n    *tuiLet=\"value$ | async as value\"\n    class=\"t-wrapper\"\n>\n    <span class=\"t-label\">{{ label }}</span>\n    <button\n        *ngIf=\"label && !(empty$ | async)\"\n        tuiLink\n        type=\"button\"\n        class=\"t-button\"\n        [disabled]=\"!!(disabled$ | async)\"\n        (click)=\"onClick(value)\"\n    >\n        {{ (multiSelectTexts$ | async)?.[value ? 'none' : 'all'] }}\n    </button>\n</span>\n<ng-content />\n","import {Directive, forwardRef, Optional} from '@angular/core';\nimport {NG_VALUE_ACCESSOR, NgControl} from '@angular/forms';\nimport {EMPTY_FUNCTION} from '@taiga-ui/cdk/constants';\nimport {tuiArrayToggle} from '@taiga-ui/cdk/utils/miscellaneous';\nimport type {TuiDataListHost} from '@taiga-ui/core/components/data-list';\nimport {\n    TUI_DATA_LIST_HOST,\n    tuiAsOptionContent,\n} from '@taiga-ui/core/components/data-list';\nimport {TuiMultiSelectOptionComponent} from '@taiga-ui/legacy/components/multi-select-option';\nimport {PolymorpheusComponent} from '@taiga-ui/polymorpheus';\n\nimport {TuiMultiSelectComponent} from '../multi-select.component';\n\nexport const TUI_MULTI_SELECT_OPTION = new PolymorpheusComponent(\n    TuiMultiSelectOptionComponent,\n);\n\n@Directive({\n    standalone: false,\n    selector: '[tuiMultiSelectGroup]',\n    providers: [\n        tuiAsOptionContent(TUI_MULTI_SELECT_OPTION),\n        {\n            provide: TUI_DATA_LIST_HOST,\n            deps: [\n                NgControl,\n                [new Optional(), forwardRef(() => TuiMultiSelectComponent)],\n            ],\n            useFactory: <T>(\n                control: NgControl,\n                host: TuiDataListHost<T> | null,\n            ): TuiDataListHost<T> =>\n                host || {\n                    handleOption: (option) =>\n                        control.control?.setValue(\n                            tuiArrayToggle(control.value || [], option),\n                        ),\n                },\n        },\n        {\n            provide: NG_VALUE_ACCESSOR,\n            multi: true,\n            useValue: {\n                writeValue: EMPTY_FUNCTION,\n                registerOnChange: EMPTY_FUNCTION,\n                registerOnTouched: EMPTY_FUNCTION,\n            },\n        },\n    ],\n})\nexport class TuiMultiSelectGroupDirective {}\n","import {ChangeDetectionStrategy, Component, Input, TemplateRef} from '@angular/core';\nimport {tuiProvide} from '@taiga-ui/cdk/utils/miscellaneous';\nimport {tuiAsDataList} from '@taiga-ui/core/components/data-list';\n\nimport {AbstractTuiNativeMultiSelect} from './native-multi-select';\n\n@Component({\n    standalone: false,\n    selector: 'select[multiple][tuiSelect]:not([labels])',\n    templateUrl: './native-multi-select.template.html',\n    styleUrls: ['./native-multi-select.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [\n        tuiAsDataList(TuiNativeMultiSelectComponent),\n        tuiProvide(AbstractTuiNativeMultiSelect, TuiNativeMultiSelectComponent),\n        {\n            provide: TemplateRef,\n            deps: [TuiNativeMultiSelectComponent],\n            useFactory: ({datalist}: TuiNativeMultiSelectComponent<unknown>) => datalist,\n        },\n    ],\n    host: {\n        '[attr.aria-invalid]': 'host.invalid',\n        '[disabled]': 'host.disabled || control.readOnly',\n        '[tabIndex]': 'host.focusable ? 0 : -1',\n        '(change)': 'onValueChange($event.target.selectedOptions)',\n        '(click.stop.silent)': '0',\n        '(mousedown.stop.silent)': '0',\n    },\n})\nexport class TuiNativeMultiSelectComponent<T> extends AbstractTuiNativeMultiSelect<T> {\n    @Input()\n    public items: readonly T[] | null = [];\n\n    protected onValueChange(selectedOptions: HTMLSelectElement['selectedOptions']): void {\n        const selected = Array.from(selectedOptions).map((option) => option.index);\n        const value = this.items?.filter((_, index) => selected.includes(index)) || [];\n\n        this.host.onSelectionChange(value);\n    }\n}\n","<ng-container *ngIf=\"control.control?.valueChanges | async\" />\n\n<tui-data-list-wrapper\n    *tuiDataList\n    tuiMultiSelectGroup\n    [disabledItemHandler]=\"disabledItemHandler || host.disableItemHandler\"\n    [itemContent]=\"stringify | tuiStringifyContent\"\n    [items]=\"items\"\n/>\n<option\n    *ngFor=\"let option of items\"\n    [disabled]=\"disabledItemHandler ? disabledItemHandler(option) : host.disableItemHandler(option)\"\n    [selected]=\"option | tuiMapper: selectedMapper : control.value\"\n    [value]=\"stringify(option)\"\n>\n    {{ stringify(option) }}\n</option>\n","import {ChangeDetectionStrategy, Component, Input, TemplateRef} from '@angular/core';\nimport {tuiProvide} from '@taiga-ui/cdk/utils/miscellaneous';\nimport {tuiAsDataList} from '@taiga-ui/core/components/data-list';\n\nimport {AbstractTuiNativeMultiSelect} from './native-multi-select';\n\n@Component({\n    standalone: false,\n    selector: 'select[multiple][tuiSelect][labels]',\n    templateUrl: './native-multi-select-group.template.html',\n    styleUrls: ['./native-multi-select.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [\n        tuiAsDataList(TuiNativeMultiSelectGroupComponent),\n        tuiProvide(AbstractTuiNativeMultiSelect, TuiNativeMultiSelectGroupComponent),\n        {\n            provide: TemplateRef,\n            deps: [TuiNativeMultiSelectGroupComponent],\n            useFactory: ({datalist}: TuiNativeMultiSelectGroupComponent<unknown>) =>\n                datalist,\n        },\n    ],\n    host: {\n        '[attr.aria-invalid]': 'host.invalid',\n        '[disabled]': 'host.disabled || control.readOnly',\n        '[tabIndex]': 'host.focusable ? 0 : -1',\n        '(change)': 'onValueChange($event.target.selectedOptions)',\n        '(click.stop.silent)': '0',\n        '(mousedown.stop.silent)': '0',\n    },\n})\nexport class TuiNativeMultiSelectGroupComponent<\n    T,\n> extends AbstractTuiNativeMultiSelect<T> {\n    @Input()\n    public items: readonly T[][] | null = [];\n\n    @Input()\n    public labels: readonly string[] = [];\n\n    protected onValueChange(selectedOptions: HTMLSelectElement['selectedOptions']): void {\n        const selected = Array.from(selectedOptions).map((option) => option.index);\n        const flatItems = this.items?.reduce((acc, val) => acc.concat(val), []) || [];\n        const value = flatItems.filter((_, index) => selected.includes(index));\n\n        this.host.onSelectionChange(value);\n    }\n}\n","<ng-container *ngIf=\"control.control?.valueChanges | async\" />\n\n<tui-data-list-wrapper\n    *tuiDataList\n    tuiMultiSelectGroup\n    [disabledItemHandler]=\"disabledItemHandler || host.disableItemHandler\"\n    [itemContent]=\"stringify | tuiStringifyContent\"\n    [items]=\"items\"\n    [labels]=\"labels\"\n/>\n<optgroup\n    *ngFor=\"let group of items; let index = index\"\n    [label]=\"labels[index]\"\n>\n    <option\n        *ngFor=\"let option of group\"\n        [disabled]=\"disabledItemHandler ? disabledItemHandler(option) : host.disableItemHandler(option)\"\n        [selected]=\"option | tuiMapper: selectedMapper : control.value\"\n        [value]=\"stringify(option)\"\n    >\n        {{ stringify(option) }}\n    </option>\n</optgroup>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {TuiLet} from '@taiga-ui/cdk/directives/let';\nimport {TuiMapperPipe} from '@taiga-ui/cdk/pipes/mapper';\nimport {TuiDataList} from '@taiga-ui/core/components/data-list';\nimport {TuiLink} from '@taiga-ui/core/components/link';\nimport {TuiDropdown} from '@taiga-ui/core/directives/dropdown';\nimport {TuiDataListWrapper} from '@taiga-ui/kit/components/data-list-wrapper';\nimport {TuiStringifyContentPipe} from '@taiga-ui/kit/pipes/stringify-content';\nimport {TuiArrowComponent} from '@taiga-ui/legacy/components/arrow';\nimport {TuiInputTagModule} from '@taiga-ui/legacy/components/input-tag';\nimport {TuiMultiSelectOptionModule} from '@taiga-ui/legacy/components/multi-select-option';\nimport {\n    TuiLegacyDropdownOpenMonitorDirective,\n    TuiTextfieldControllerModule,\n    TuiWrapperModule,\n} from '@taiga-ui/legacy/directives';\nimport {PolymorpheusOutlet, PolymorpheusTemplate} from '@taiga-ui/polymorpheus';\n\nimport {TuiHideSelectedPipe} from './hide-selected.pipe';\nimport {TuiMultiSelectComponent} from './multi-select.component';\nimport {TuiMultiSelectDirective} from './multi-select.directive';\nimport {TuiMultiSelectGroupComponent} from './multi-select-group/multi-select-group.component';\nimport {TuiMultiSelectGroupDirective} from './multi-select-group/multi-select-group.directive';\nimport {TuiNativeMultiSelectComponent} from './native-multi-select/native-multi-select.component';\nimport {TuiNativeMultiSelectGroupComponent} from './native-multi-select/native-multi-select-group.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        PolymorpheusOutlet,\n        PolymorpheusTemplate,\n        TuiWrapperModule,\n        TuiArrowComponent,\n        TuiLet,\n        TuiMapperPipe,\n        TuiInputTagModule,\n        TuiMultiSelectOptionModule,\n        TuiMapperPipe,\n        TuiLink,\n        TuiTextfieldControllerModule,\n        TuiStringifyContentPipe,\n        TuiLegacyDropdownOpenMonitorDirective,\n        ...TuiDropdown,\n        ...TuiDataList,\n        ...TuiDataListWrapper,\n    ],\n    declarations: [\n        TuiMultiSelectComponent,\n        TuiMultiSelectGroupComponent,\n        TuiMultiSelectGroupDirective,\n        TuiHideSelectedPipe,\n        TuiNativeMultiSelectComponent,\n        TuiNativeMultiSelectGroupComponent,\n        TuiMultiSelectDirective,\n    ],\n    exports: [\n        TuiMultiSelectComponent,\n        TuiMultiSelectGroupComponent,\n        TuiMultiSelectGroupDirective,\n        TuiHideSelectedPipe,\n        TuiMultiSelectDirective,\n        TuiNativeMultiSelectComponent,\n        TuiNativeMultiSelectGroupComponent,\n        ...TuiDropdown,\n        ...TuiDataList,\n        ...TuiDataListWrapper,\n    ],\n})\nexport class TuiMultiSelectModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i6","i7","i2","i3","i4","i5.TuiMultiSelectGroupDirective","i1"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUa,MAAA,gCAAgC,GAAmC;AAC5E,IAAA,IAAI,EAAE,QAAQ;AACd,IAAA,YAAY,EAAE,EAAE;EAClB;AAEF;;;AAGG;MACU,wBAAwB,GAAG,cAAc,CAAC,gCAAgC,EAAE;AAEnF,SAAU,6BAA6B,CACzC,OAA0C,EAAA;IAE1C,OAAO,iBAAiB,CACpB,wBAAwB,EACxB,OAAO,EACP,gCAAgC,CACnC,CAAC;AACN;;ACtBA,MACsB,4BAAgC,SAAQ,uBAG7D,CAAA;AAJD,IAAA,WAAA,GAAA;;AASc,QAAA,IAAA,CAAA,cAAc,GAAsC,CAAC,MAAM,EAAE,KAAK,KACxE,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AAC9B,KAAA;AANG,IAAA,IAAc,SAAS,GAAA;AACnB,QAAA,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;KAC9B;+GANiB,4BAA4B,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;mGAA5B,4BAA4B,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA,EAAA;;4FAA5B,4BAA4B,EAAA,UAAA,EAAA,CAAA;kBADjD,SAAS;;;ACgDV,MAmBa,uBACT,SAAQ,0BAA6B,CAAA;AApBzC,IAAA,WAAA,GAAA;;AAmCqB,QAAA,IAAA,CAAA,SAAS,GAAG,MAAM,CAAC,cAAc,CAAC,CAAC;AACnC,QAAA,IAAA,CAAA,aAAa,GAAG,MAAM,CAAsB,kBAAkB,CAAC,CAAC;AAChE,QAAA,IAAA,CAAA,OAAO,GAAG,MAAM,CAA2B,wBAAwB,CAAC,CAAC;QAK5E,IAAI,CAAA,IAAA,GAAG,KAAK,CAAC;AACJ,QAAA,IAAA,CAAA,UAAU,GAAG,MAAM,CAAC,gCAAgC,CAAC,CAAC;AACtD,QAAA,IAAA,CAAA,QAAQ,GAAY,MAAM,CAAC,aAAa,CAAC,CAAC;AAGtD,QAAA,IAAA,CAAA,SAAS,GAAqC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;AAG3E,QAAA,IAAA,CAAA,eAAe,GAClB,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC;QAGhC,IAAM,CAAA,MAAA,GAAkB,EAAE,CAAC;QAG3B,IAAW,CAAA,WAAA,GAAG,EAAE,CAAC;QAGjB,IAAQ,CAAA,QAAA,GAAG,IAAI,CAAC;AAGhB,QAAA,IAAA,CAAA,mBAAmB,GACtB,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC;AAGpC,QAAA,IAAA,CAAA,YAAY,GACf,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;QAGvB,IAAY,CAAA,YAAA,GAAyB,gBAAgB,CAAC;AAGtD,QAAA,IAAA,CAAA,IAAI,GAAqC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;QAG3D,IAAS,CAAA,SAAA,GAAG,KAAK,CAAC;AAGT,QAAA,IAAA,CAAA,YAAY,GAAG,IAAI,YAAY,EAAiB,CAAC;QA+E9C,IAAW,CAAA,WAAA,GAG1B,CAAC,KAAK,EAAE,SAAS,EAAE,KAAK,KACxB,KAAK;AACD,cAAE,WAAW;AACb,cAAE,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,oBAAoB,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;QAEtD,IAA0B,CAAA,0BAAA,GAGzC,CAAC,OAAO,KAAK,CAAC,aAAa,KAC3B,WAAW,CAAC,aAAa,CAAC,IAAI,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AAmDjE,KAAA;AA5IG,IAAA,IAAW,IAAI,GAAA;AACX,QAAA,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;KAC/B;AAED,IAAA,IAAW,sBAAsB,GAAA;AAC7B,QAAA,OAAO,IAAI,CAAC,KAAK,EAAE,sBAAsB,IAAI,IAAI,CAAC;KACrD;AAED,IAAA,IAAW,OAAO,GAAA;AACd,QAAA,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,eAAe,CAAC;KACpE;AAEM,IAAA,aAAa,CAAC,KAAmB,EAAA;AACpC,QAAA,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACtB;AAEM,IAAA,QAAQ,CAAC,MAAqB,EAAA;;QAEjC,IAAI,MAAM,KAAK,EAAE,EAAE;AACf,YAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACpB,SAAA;AAED,QAAA,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;KAC7B;IAEe,gBAAgB,GAAA;QAC5B,KAAK,CAAC,gBAAgB,EAAE,CAAC;AACzB,QAAA,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;KACrB;AAEM,IAAA,YAAY,CAAC,MAAS,EAAA;AACzB,QAAA,MAAM,EAAC,KAAK,EAAE,eAAe,EAAC,GAAG,IAAI,CAAC;AACtC,QAAA,MAAM,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,KAAK,eAAe,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;AAEvE,QAAA,IAAI,CAAC,KAAK;AACN,YAAA,KAAK,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,EAAE,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC,CAAC;AAC5E,QAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;KAC3B;AAED,IAAA,IAAc,KAAK,GAAA;AAGf,QAAA,OAAO,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;KAClF;AAED,IAAA,IAAc,kBAAkB,GAAA;AAC5B,QAAA,OAAO,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;KACjE;AAED,IAAA,IAAc,aAAa,GAAA;AACvB,QAAA,OAAO,IAAI,CAAC,aAAa,GAAG,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC;KACxD;;AAGD,IAAA,IAAc,aAAa,GAAA;AACvB,QAAA,OAAO,IAAI,CAAC,aAAa,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC;KACvD;AAED,IAAA,IAAc,YAAY,GAAA;AACtB,QAAA,OAAO,IAAI,CAAC,MAAM,KAAK,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;KAClD;AAED,IAAA,IAAc,aAAa,GAAA;AACvB,QAAA,QACI,CAAC,CAAC,IAAI,CAAC,YAAY;AACnB,YAAA,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC;aACpB,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EACnC;KACL;AAGS,IAAA,cAAc,CACpB,SAA8B,EAAA;QAE9B,OAAO,CAAC,EAAC,SAAS,EAAC,KAAK,SAAS,CAAC,SAAS,CAAC,CAAC;KAChD;AAgBS,IAAA,OAAO,CAAC,KAAY,EAAA;AAC1B,QAAA,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,KAAK,CAAC,cAAc,EAAE,CAAC;AAC1B,SAAA;AAED,QAAA,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;AAChB,YAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACpB,SAAA;KACJ;AAES,IAAA,OAAO,CAAC,KAAY,EAAA;AAC1B,QAAA,MAAM,EAAC,KAAK,EAAC,GAAG,IAAI,CAAC;AACrB,QAAA,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,GAAG,EAAE,CAAC;AAEhE,QAAA,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;YACtB,OAAO;AACV,SAAA;QAED,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,cAAc,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;AACpE,QAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;KAC3B;IAES,OAAO,CAAC,EAAC,sBAAsB,EAAuB,EAAA;QAC5D,IACI,IAAI,CAAC,WAAW;YAChB,sBAAsB;YACtB,kBAAkB,CAAC,sBAAsB,CAAC,EAC5C;AACE,YAAA,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;AAC1B,SAAA;KACJ;AAES,IAAA,OAAO,CAAC,KAA6C,EAAA;AAC3D,QAAA,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,IAAI,EAAC,KAAK,IAAI,CAAC,CAAC;KAC5C;AAES,IAAA,YAAY,CAAC,MAAe,EAAA;AAClC,QAAA,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;KAC9B;AAEO,IAAA,YAAY,CAAC,MAAqB,EAAA;AACtC,QAAA,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,EAAE;YACxB,OAAO;AACV,SAAA;AAED,QAAA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACrB,QAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAClC;+GA1MQ,uBAAuB,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;AAAvB,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,uBAAuB,EAbrB,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,EAAA,SAAA,EAAA,WAAA,EAAA,eAAA,EAAA,iBAAA,EAAA,MAAA,EAAA,QAAA,EAAA,WAAA,EAAA,aAAA,EAAA,QAAA,EAAA,UAAA,EAAA,mBAAA,EAAA,qBAAA,EAAA,YAAA,EAAA,cAAA,EAAA,YAAA,EAAA,cAAA,EAAA,IAAA,EAAA,MAAA,EAAA,SAAA,EAAA,WAAA,EAAA,EAAA,OAAA,EAAA,EAAA,YAAA,EAAA,cAAA,EAAA,EAAA,IAAA,EAAA,EAAA,UAAA,EAAA,EAAA,gBAAA,EAAA,MAAA,EAAA,iBAAA,EAAA,UAAA,EAAA,mBAAA,EAAA,UAAA,EAAA,EAAA,EAAA,SAAA,EAAA;YACP,0BAA0B,CAAC,uBAAuB,CAAC;YACnD,YAAY,CAAC,uBAAuB,CAAC;YACrC,iBAAiB,CAAC,uBAAuB,CAAC;YAC1C,6BAA6B;AAChC,SAAA,EAAA,OAAA,EAAA,CAAA,EAAA,YAAA,EAAA,UAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAYa,sBAA6B,EAG7B,WAAA,EAAA,IAAA,EAAA,EAAA,EAAA,YAAA,EAAA,cAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAAA,4BAA4B,EAa5B,WAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,EAAA,EAAA,YAAA,EAAA,UAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAAA,oBAAoB,2BAAS,WAAW,EAAA,CAAA,EAAA,WAAA,EAAA,CAAA,EAAA,YAAA,EAAA,UAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAV3C,eAAe,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,EAAA,YAAA,EAAA,OAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAGf,oBAAoB,ECvFnC,WAAA,EAAA,IAAA,EAAA,CAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAAA,soFAgFA,EDbmB,MAAA,EAAA,CAAA,gfAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,QAAA,EAAA,oBAAA,EAAA,MAAA,EAAA,CAAA,yBAAA,EAAA,kBAAA,EAAA,0BAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,eAAA,EAAA,QAAA,EAAA,2CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,qDAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,SAAA,EAAA,gBAAA,CAAA,EAAA,OAAA,EAAA,CAAA,eAAA,CAAA,EAAA,QAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,kBAAA,EAAA,QAAA,EAAA,sBAAA,EAAA,MAAA,EAAA,CAAA,oBAAA,EAAA,2BAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,mBAAA,EAAA,QAAA,EAAA,cAAA,EAAA,MAAA,EAAA,CAAA,UAAA,EAAA,UAAA,EAAA,OAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,YAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,oBAAA,EAAA,QAAA,EAAA,eAAA,EAAA,MAAA,EAAA,CAAA,WAAA,EAAA,QAAA,EAAA,UAAA,EAAA,cAAA,EAAA,MAAA,EAAA,aAAA,EAAA,YAAA,EAAA,WAAA,EAAA,WAAA,EAAA,aAAA,EAAA,WAAA,EAAA,YAAA,EAAA,qBAAA,EAAA,eAAA,CAAA,EAAA,OAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAA,IAAA,CAAA,oBAAA,EAAA,QAAA,EAAA,kDAAA,EAAA,MAAA,EAAA,CAAA,aAAA,CAAA,EAAA,QAAA,EAAA,CAAA,aAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAA,IAAA,CAAA,eAAA,EAAA,QAAA,EAAA,qEAAA,EAAA,MAAA,EAAA,CAAA,oBAAA,EAAA,iBAAA,CAAA,EAAA,OAAA,EAAA,CAAA,uBAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,yBAAA,EAAA,QAAA,EAAA,oBAAA,EAAA,MAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,qCAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAAC,EAAA,CAAA,aAAA,EAAA,IAAA,EAAA,WAAA,EAAA,CAAA,EAAA,aAAA,EAAA,CAAC,kCAAkC,CAAC,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA,EAAA;;AA6IzC,UAAA,CAAA;IADT,OAAO;AAKP,CAAA,EAAA,uBAAA,CAAA,SAAA,EAAA,gBAAA,EAAA,IAAA,CAAA,CAAA;4FA1IQ,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBAnBnC,SAAS;AACM,YAAA,IAAA,EAAA,CAAA,EAAA,UAAA,EAAA,KAAK,YACP,kBAAkB,EAAA,eAAA,EAGX,uBAAuB,CAAC,MAAM,EACpC,SAAA,EAAA;AACP,wBAAA,0BAA0B,CAAyB,uBAAA,CAAA;AACnD,wBAAA,YAAY,CAAyB,uBAAA,CAAA;AACrC,wBAAA,iBAAiB,CAAyB,uBAAA,CAAA;wBAC1C,6BAA6B;qBAChC,EACc,aAAA,EAAA,CAAC,kCAAkC,CAAC,EAC7C,IAAA,EAAA;AACF,wBAAA,kBAAkB,EAAE,MAAM;AAC1B,wBAAA,mBAAmB,EAAE,UAAU;AAC/B,wBAAA,qBAAqB,EAAE,UAAU;AACpC,qBAAA,EAAA,QAAA,EAAA,soFAAA,EAAA,MAAA,EAAA,CAAA,gfAAA,CAAA,EAAA,CAAA;8BAOgB,QAAQ,EAAA,CAAA;sBADxB,YAAY;uBAAC,sBAA6B,CAAA;gBAI1B,YAAY,EAAA,CAAA;sBAD5B,YAAY;AAAC,gBAAA,IAAA,EAAA,CAAA,4BAA4B,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC,CAAA;gBAIzC,QAAQ,EAAA,CAAA;sBADxB,SAAS;uBAAC,eAAe,CAAA;gBAIT,KAAK,EAAA,CAAA;sBADrB,SAAS;uBAAC,oBAAoB,CAAA;gBAQZ,QAAQ,EAAA,CAAA;sBAD1B,YAAY;AAAC,gBAAA,IAAA,EAAA,CAAA,oBAAoB,EAAE,EAAC,IAAI,EAAE,WAAW,EAAC,CAAA;gBAQhD,SAAS,EAAA,CAAA;sBADf,KAAK;gBAIC,eAAe,EAAA,CAAA;sBADrB,KAAK;gBAKC,MAAM,EAAA,CAAA;sBADZ,KAAK;gBAIC,WAAW,EAAA,CAAA;sBADjB,KAAK;gBAIC,QAAQ,EAAA,CAAA;sBADd,KAAK;gBAIC,mBAAmB,EAAA,CAAA;sBADzB,KAAK;gBAKC,YAAY,EAAA,CAAA;sBADlB,KAAK;gBAKC,YAAY,EAAA,CAAA;sBADlB,KAAK;gBAIC,IAAI,EAAA,CAAA;sBADV,KAAK;gBAIC,SAAS,EAAA,CAAA;sBADf,KAAK;gBAIU,YAAY,EAAA,CAAA;sBAD3B,MAAM;gBA0EG,cAAc,EAAA,EAAA,EAAA,EAAA,CAAA;;AExM5B,MAKa,mBAAmB,CAAA;AALhC,IAAA,WAAA,GAAA;AAMqB,QAAA,IAAA,CAAA,SAAS,GAAG,MAAM,CAAC,uBAAuB,CAAC,CAAC;AAuChE,KAAA;AAjCU,IAAA,SAAS,CACZ,KAAwD,EAAA;QAExD,MAAM,EAAC,KAAK,EAAE,eAAe,EAAC,GAAG,IAAI,CAAC,SAAS,CAAC;QAEhD,IAAI,CAAC,KAAK,EAAE;AACR,YAAA,OAAO,IAAI,CAAC;AACf,SAAA;QAED,OAAO,SAAS,CAAC,KAAK,CAAC;cACjB,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE,eAAe,CAAC;cAC1C,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,EAAE,eAAe,CAAC,CAAC;KACtD;AAGO,IAAA,QAAQ,CACZ,KAAkC,EAClC,KAAmB,EACnB,OAA8B,EAAA;QAE9B,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,KAAK,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC;KACzE;AAGO,IAAA,MAAM,CACV,KAAmB,EACnB,KAAmB,EACnB,OAA8B,EAAA;QAE9B,OAAO,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,KACrB,KAAK,CAAC,KAAK,CAAC,CAAC,QAAQ,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CACtD,CAAC;KACL;+GAvCQ,mBAAmB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,IAAA,EAAA,CAAA,CAAA,EAAA;6GAAnB,mBAAmB,EAAA,IAAA,EAAA,iBAAA,EAAA,IAAA,EAAA,KAAA,EAAA,CAAA,CAAA,EAAA;;AAsBpB,UAAA,CAAA;IADP,OAAO;AAOP,CAAA,EAAA,mBAAA,CAAA,SAAA,EAAA,UAAA,EAAA,IAAA,CAAA,CAAA;AAGO,UAAA,CAAA;IADP,OAAO;AASP,CAAA,EAAA,mBAAA,CAAA,SAAA,EAAA,QAAA,EAAA,IAAA,CAAA,CAAA;4FAvCQ,mBAAmB,EAAA,UAAA,EAAA,CAAA;kBAL/B,IAAI;AAAC,YAAA,IAAA,EAAA,CAAA;AACF,oBAAA,UAAU,EAAE,KAAK;AACjB,oBAAA,IAAI,EAAE,iBAAiB;AACvB,oBAAA,IAAI,EAAE,KAAK;AACd,iBAAA,CAAA;AAuBW,SAAA,CAAA,EAAA,cAAA,EAAA,EAAA,QAAQ,MASR,MAAM,EAAA,EAAA,EAAA,EAAA,CAAA;;ACpClB,MAKa,uBAAoC,SAAQ,wBAExD,CAAA;AAPD,IAAA,WAAA,GAAA;;AAgBW,QAAA,IAAA,CAAA,kBAAkB,GAAyB,CAAC,IAAI,KACnD,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;AAO3C,KAAA;AAhBG,IAAA,IAAoB,QAAQ,GAAA;AACxB,QAAA,OAAO,IAAI,CAAC;KACf;AAED,IAAA,IAAW,SAAS,GAAA;AAChB,QAAA,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;KAC9B;AAKM,IAAA,aAAa,MAAW;AAExB,IAAA,iBAAiB,CAAC,KAAU,EAAA;AAC/B,QAAA,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;KAClC;+GAlBQ,uBAAuB,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;AAAvB,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,uBAAuB,2CAFrB,CAAC,kBAAkB,CAAC,uBAAuB,CAAC,CAAC,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA,EAAA;;4FAE/C,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBALnC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,UAAU,EAAE,KAAK;AACjB,oBAAA,QAAQ,EAAE,kBAAkB;AAC5B,oBAAA,SAAS,EAAE,CAAC,kBAAkB,CAAA,uBAAA,CAAyB,CAAC;AAC3D,iBAAA,CAAA;;;ACWD,MAUa,4BAA4B,CAAA;AAVzC,IAAA,WAAA,GAAA;QAYqB,IAAO,CAAA,OAAA,GAA4B,WAAW,CAAC;AAE/C,QAAA,IAAA,CAAA,IAAI,GAAG,MAAM,CAAqB,kBAAkB,CAAC,CAAC;AACtD,QAAA,IAAA,CAAA,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;AAE1B,QAAA,IAAA,CAAA,iBAAiB,GAAG,MAAM,CAAC,sBAAsB,CAAC,CAAC;QAG/D,IAAK,CAAA,KAAA,GAAG,EAAE,CAAC;AA6ErB,KAAA;AA1EG,IAAA,IAAc,MAAM,GAAA;QAChB,OAAO,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAC,MAAM,EAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;KAC7E;AAGD,IAAA,IAAc,SAAS,GAAA;AACnB,QAAA,OAAO,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CACzC,GAAG,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,KAAK,CAAC,CAAC,EAAC,QAAQ,EAAC,KAAK,QAAQ,CAAC,CAAC,CACxD,CAAC;KACL;AAGD,IAAA,IAAc,MAAM,GAAA;QAChB,OAAO,aAAa,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CACxD,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,KAAI;YACrB,IAAI,MAAM,GAAG,KAAK,CAAC;AAEnB,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,MAAM,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,QAAQ,KACnC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAE,CAAC,CACpC,CAAC;AAEF,gBAAA,IAAI,CAAC,CAAC,QAAQ,IAAI,MAAM,MAAM,QAAQ,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,EAAE;AACrD,oBAAA,OAAO,IAAI,CAAC;AACf,iBAAA;gBAED,MAAM,GAAG,QAAQ,CAAC;AACrB,aAAA;AAED,YAAA,OAAO,MAAM,CAAC;SACjB,CAAC,CACL,CAAC;KACL;AAES,IAAA,OAAO,CAAC,OAAuB,EAAA;AACrC,QAAA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;YACvB,OAAO;AACV,SAAA;QAED,MAAM,YAAY,GAAiB,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC;AAC5D,QAAA,MAAM,EAAC,MAAM,EAAC,GAAG,IAAI,CAAC;AACtB,QAAA,MAAM,QAAQ,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,OAAO,KACzC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CACvD,CAAC;QAEF,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,GAAG,QAAQ,GAAG,CAAC,GAAG,QAAQ,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC;KAChF;AAGD,IAAA,IAAY,MAAM,GAAA;AACd,QAAA,OAAO,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CACzC,GAAG,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,EAAC,KAAK,EAAC,KAAK,KAAK,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CACzE,CAAC;KACL;AAGD,IAAA,IAAY,aAAa,GAAA;QACrB,OAAO,eAAe,CAAe,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CACnD,GAAG,CAAC,CAAC,KAAK,KAAK,KAAK,IAAI,EAAE,CAAC,CAC9B,CAAC;KACL;AAED,IAAA,IAAY,MAAM,GAAA;QACd,OAAO,IAAI,CAAC,MAAM,CAAC,gCAAgC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;KACtE;AAED,IAAA,IAAY,OAAO,GAAA;AACf,QAAA,OAAO,IAAI,CAAC,IAAI,CAAC,eAAe,IAAI,4BAA4B,CAAC;KACpE;AAGO,IAAA,MAAM,CAAC,KAAkC,EAAA;AAC7C,QAAA,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,KAAK,EAAC,KAAK,KAAK,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;KAC7D;+GAtFQ,4BAA4B,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;mGAA5B,4BAA4B,EAAA,QAAA,EAAA,oCAAA,EAAA,MAAA,EAAA,EAAA,KAAA,EAAA,OAAA,EAAA,EAAA,IAAA,EAAA,EAAA,UAAA,EAAA,EAAA,cAAA,EAAA,OAAA,EAAA,EAAA,EAAA,OAAA,EAAA,CAAA,EAAA,YAAA,EAAA,SAAA,EAAA,SAAA,EACpB,SAAS,EAAA,CAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EClC9B,qcAiBA,EAAA,MAAA,EAAA,CAAA,iTAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,IAAA,CAAA,MAAA,EAAA,QAAA,EAAA,UAAA,EAAA,MAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,IAAA,CAAA,OAAA,EAAA,QAAA,EAAA,6BAAA,EAAA,MAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,EAAA,CAAA,SAAA,EAAA,IAAA,EAAA,OAAA,EAAA,CAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA,EAAA;;AD6BI,UAAA,CAAA;IADC,OAAO;AAGP,CAAA,EAAA,4BAAA,CAAA,SAAA,EAAA,QAAA,EAAA,IAAA,CAAA,CAAA;AAGD,UAAA,CAAA;IADC,OAAO;AAKP,CAAA,EAAA,4BAAA,CAAA,SAAA,EAAA,WAAA,EAAA,IAAA,CAAA,CAAA;AAGD,UAAA,CAAA;IADC,OAAO;AAqBP,CAAA,EAAA,4BAAA,CAAA,SAAA,EAAA,QAAA,EAAA,IAAA,CAAA,CAAA;AAiBD,UAAA,CAAA;IADC,OAAO;AAKP,CAAA,EAAA,4BAAA,CAAA,SAAA,EAAA,QAAA,EAAA,IAAA,CAAA,CAAA;AAGD,UAAA,CAAA;IADC,OAAO;AAKP,CAAA,EAAA,4BAAA,CAAA,SAAA,EAAA,eAAA,EAAA,IAAA,CAAA,CAAA;AAWO,UAAA,CAAA;IADP,OAAO;AAGP,CAAA,EAAA,4BAAA,CAAA,SAAA,EAAA,QAAA,EAAA,IAAA,CAAA,CAAA;4FAtFQ,4BAA4B,EAAA,UAAA,EAAA,CAAA;kBAVxC,SAAS;AACM,YAAA,IAAA,EAAA,CAAA,EAAA,UAAA,EAAA,KAAK,YACP,oCAAoC,EAAA,eAAA,EAG7B,uBAAuB,CAAC,MAAM,EACzC,IAAA,EAAA;AACF,wBAAA,gBAAgB,EAAE,OAAO;AAC5B,qBAAA,EAAA,QAAA,EAAA,qcAAA,EAAA,MAAA,EAAA,CAAA,iTAAA,CAAA,EAAA,CAAA;8BAIgB,OAAO,EAAA,CAAA;sBADvB,eAAe;uBAAC,SAAS,CAAA;gBASnB,KAAK,EAAA,CAAA;sBADX,KAAK;gBAIQ,MAAM,EAAA,EAAA,EAKN,SAAS,EAOT,EAAA,EAAA,MAAM,MAqCR,MAAM,EAAA,EAAA,EAON,aAAa,EAAA,EAAA,EAejB,MAAM,EAAA,EAAA,EAAA,EAAA,CAAA;;MEvGL,uBAAuB,GAAG,IAAI,qBAAqB,CAC5D,6BAA6B,EAC/B;AAEF,MAiCa,4BAA4B,CAAA;+GAA5B,4BAA4B,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;AAA5B,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,4BAA4B,EA9B1B,QAAA,EAAA,uBAAA,EAAA,SAAA,EAAA;YACP,kBAAkB,CAAC,uBAAuB,CAAC;AAC3C,YAAA;AACI,gBAAA,OAAO,EAAE,kBAAkB;AAC3B,gBAAA,IAAI,EAAE;oBACF,SAAS;oBACT,CAAC,IAAI,QAAQ,EAAE,EAAE,UAAU,CAAC,MAAM,uBAAuB,CAAC,CAAC;AAC9D,iBAAA;gBACD,UAAU,EAAE,CACR,OAAkB,EAClB,IAA+B,KAE/B,IAAI,IAAI;oBACJ,YAAY,EAAE,CAAC,MAAM,KACjB,OAAO,CAAC,OAAO,EAAE,QAAQ,CACrB,cAAc,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE,EAAE,MAAM,CAAC,CAC9C;AACR,iBAAA;AACR,aAAA;AACD,YAAA;AACI,gBAAA,OAAO,EAAE,iBAAiB;AAC1B,gBAAA,KAAK,EAAE,IAAI;AACX,gBAAA,QAAQ,EAAE;AACN,oBAAA,UAAU,EAAE,cAAc;AAC1B,oBAAA,gBAAgB,EAAE,cAAc;AAChC,oBAAA,iBAAiB,EAAE,cAAc;AACpC,iBAAA;AACJ,aAAA;AACJ,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA,EAAA;;4FAEQ,4BAA4B,EAAA,UAAA,EAAA,CAAA;kBAjCxC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,UAAU,EAAE,KAAK;AACjB,oBAAA,QAAQ,EAAE,uBAAuB;AACjC,oBAAA,SAAS,EAAE;wBACP,kBAAkB,CAAC,uBAAuB,CAAC;AAC3C,wBAAA;AACI,4BAAA,OAAO,EAAE,kBAAkB;AAC3B,4BAAA,IAAI,EAAE;gCACF,SAAS;gCACT,CAAC,IAAI,QAAQ,EAAE,EAAE,UAAU,CAAC,MAAM,uBAAuB,CAAC,CAAC;AAC9D,6BAAA;4BACD,UAAU,EAAE,CACR,OAAkB,EAClB,IAA+B,KAE/B,IAAI,IAAI;gCACJ,YAAY,EAAE,CAAC,MAAM,KACjB,OAAO,CAAC,OAAO,EAAE,QAAQ,CACrB,cAAc,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE,EAAE,MAAM,CAAC,CAC9C;AACR,6BAAA;AACR,yBAAA;AACD,wBAAA;AACI,4BAAA,OAAO,EAAE,iBAAiB;AAC1B,4BAAA,KAAK,EAAE,IAAI;AACX,4BAAA,QAAQ,EAAE;AACN,gCAAA,UAAU,EAAE,cAAc;AAC1B,gCAAA,gBAAgB,EAAE,cAAc;AAChC,gCAAA,iBAAiB,EAAE,cAAc;AACpC,6BAAA;AACJ,yBAAA;AACJ,qBAAA;AACJ,iBAAA,CAAA;;;AC5CD,MAwBa,6BAAiC,SAAQ,4BAA+B,CAAA;AAxBrF,IAAA,WAAA,GAAA;;QA0BW,IAAK,CAAA,KAAA,GAAwB,EAAE,CAAC;AAQ1C,KAAA;AANa,IAAA,aAAa,CAAC,eAAqD,EAAA;QACzE,MAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,KAAK,CAAC,CAAC;QAC3E,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,KAAK,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC;AAE/E,QAAA,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;KACtC;+GATQ,6BAA6B,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;AAA7B,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,6BAA6B,EAlB3B,QAAA,EAAA,2CAAA,EAAA,MAAA,EAAA,EAAA,KAAA,EAAA,OAAA,EAAA,EAAA,IAAA,EAAA,EAAA,SAAA,EAAA,EAAA,QAAA,EAAA,8CAAA,EAAA,mBAAA,EAAA,GAAA,EAAA,uBAAA,EAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,mBAAA,EAAA,cAAA,EAAA,UAAA,EAAA,mCAAA,EAAA,UAAA,EAAA,yBAAA,EAAA,EAAA,EAAA,SAAA,EAAA;YACP,aAAa,CAAC,6BAA6B,CAAC;AAC5C,YAAA,UAAU,CAAC,4BAA4B,EAAE,6BAA6B,CAAC;AACvE,YAAA;AACI,gBAAA,OAAO,EAAE,WAAW;gBACpB,IAAI,EAAE,CAAC,6BAA6B,CAAC;gBACrC,UAAU,EAAE,CAAC,EAAC,QAAQ,EAAyC,KAAK,QAAQ;AAC/E,aAAA;AACJ,SAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,ECpBL,mlBAiBA,EAAA,MAAA,EAAA,CAAA,oFAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,cAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,OAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,uBAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,OAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAA,IAAA,CAAA,oBAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,IAAA,CAAA,2BAAA,EAAA,QAAA,EAAA,qCAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,qBAAA,EAAA,cAAA,EAAA,MAAA,EAAA,aAAA,CAAA,EAAA,OAAA,EAAA,CAAA,WAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,4BAAA,EAAA,QAAA,EAAA,uBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,EAAA,CAAA,SAAA,EAAA,IAAA,EAAA,OAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,EAAA,CAAA,aAAA,EAAA,IAAA,EAAA,WAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,EAAA,CAAA,uBAAA,EAAA,IAAA,EAAA,qBAAA,EAAA,CAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA,EAAA;;4FDaa,6BAA6B,EAAA,UAAA,EAAA,CAAA;kBAxBzC,SAAS;AACM,YAAA,IAAA,EAAA,CAAA,EAAA,UAAA,EAAA,KAAK,YACP,2CAA2C,EAAA,eAAA,EAGpC,uBAAuB,CAAC,MAAM,EACpC,SAAA,EAAA;AACP,wBAAA,aAAa,CAA+B,6BAAA,CAAA;wBAC5C,UAAU,CAAC,4BAA4B,EAAgC,6BAAA,CAAA;AACvE,wBAAA;AACI,4BAAA,OAAO,EAAE,WAAW;AACpB,4BAAA,IAAI,EAAE,CAA+B,6BAAA,CAAA;4BACrC,UAAU,EAAE,CAAC,EAAC,QAAQ,EAAyC,KAAK,QAAQ;AAC/E,yBAAA;qBACJ,EACK,IAAA,EAAA;AACF,wBAAA,qBAAqB,EAAE,cAAc;AACrC,wBAAA,YAAY,EAAE,mCAAmC;AACjD,wBAAA,YAAY,EAAE,yBAAyB;AACvC,wBAAA,UAAU,EAAE,8CAA8C;AAC1D,wBAAA,qBAAqB,EAAE,GAAG;AAC1B,wBAAA,yBAAyB,EAAE,GAAG;AACjC,qBAAA,EAAA,QAAA,EAAA,mlBAAA,EAAA,MAAA,EAAA,CAAA,oFAAA,CAAA,EAAA,CAAA;8BAIM,KAAK,EAAA,CAAA;sBADX,KAAK;;;AEzBV,MAyBa,kCAEX,SAAQ,4BAA+B,CAAA;AA3BzC,IAAA,WAAA,GAAA;;QA6BW,IAAK,CAAA,KAAA,GAA0B,EAAE,CAAC;QAGlC,IAAM,CAAA,MAAA,GAAsB,EAAE,CAAC;AASzC,KAAA;AAPa,IAAA,aAAa,CAAC,eAAqD,EAAA;QACzE,MAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,KAAK,CAAC,CAAC;QAC3E,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,KAAK,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC;QAC9E,MAAM,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,KAAK,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;AAEvE,QAAA,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;KACtC;+GAfQ,kCAAkC,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA,EAAA;AAAlC,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,kCAAkC,EAnBhC,QAAA,EAAA,qCAAA,EAAA,MAAA,EAAA,EAAA,KAAA,EAAA,OAAA,EAAA,MAAA,EAAA,QAAA,EAAA,EAAA,IAAA,EAAA,EAAA,SAAA,EAAA,EAAA,QAAA,EAAA,8CAAA,EAAA,mBAAA,EAAA,GAAA,EAAA,uBAAA,EAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,mBAAA,EAAA,cAAA,EAAA,UAAA,EAAA,mCAAA,EAAA,UAAA,EAAA,yBAAA,EAAA,EAAA,EAAA,SAAA,EAAA;YACP,aAAa,CAAC,kCAAkC,CAAC;AACjD,YAAA,UAAU,CAAC,4BAA4B,EAAE,kCAAkC,CAAC;AAC5E,YAAA;AACI,gBAAA,OAAO,EAAE,WAAW;gBACpB,IAAI,EAAE,CAAC,kCAAkC,CAAC;gBAC1C,UAAU,EAAE,CAAC,EAAC,QAAQ,EAA8C,KAChE,QAAQ;AACf,aAAA;AACJ,SAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,ECrBL,4vBAuBA,EAAA,MAAA,EAAA,CAAA,oFAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,cAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,OAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,uBAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,OAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAF,IAAA,CAAA,oBAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,IAAA,CAAA,gCAAA,EAAA,QAAA,EAAA,+BAAA,EAAA,MAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,4BAAA,EAAA,QAAA,EAAA,uBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,EAAA,CAAA,SAAA,EAAA,IAAA,EAAA,OAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,EAAA,CAAA,aAAA,EAAA,IAAA,EAAA,WAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,EAAA,CAAA,uBAAA,EAAA,IAAA,EAAA,qBAAA,EAAA,CAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA,EAAA;;4FDQa,kCAAkC,EAAA,UAAA,EAAA,CAAA;kBAzB9C,SAAS;AACM,YAAA,IAAA,EAAA,CAAA,EAAA,UAAA,EAAA,KAAK,YACP,qCAAqC,EAAA,eAAA,EAG9B,uBAAuB,CAAC,MAAM,EACpC,SAAA,EAAA;AACP,wBAAA,aAAa,CAAoC,kCAAA,CAAA;wBACjD,UAAU,CAAC,4BAA4B,EAAqC,kCAAA,CAAA;AAC5E,wBAAA;AACI,4BAAA,OAAO,EAAE,WAAW;AACpB,4BAAA,IAAI,EAAE,CAAoC,kCAAA,CAAA;4BAC1C,UAAU,EAAE,CAAC,EAAC,QAAQ,EAA8C,KAChE,QAAQ;AACf,yBAAA;qBACJ,EACK,IAAA,EAAA;AACF,wBAAA,qBAAqB,EAAE,cAAc;AACrC,wBAAA,YAAY,EAAE,mCAAmC;AACjD,wBAAA,YAAY,EAAE,yBAAyB;AACvC,wBAAA,UAAU,EAAE,8CAA8C;AAC1D,wBAAA,qBAAqB,EAAE,GAAG;AAC1B,wBAAA,yBAAyB,EAAE,GAAG;AACjC,qBAAA,EAAA,QAAA,EAAA,4vBAAA,EAAA,MAAA,EAAA,CAAA,oFAAA,CAAA,EAAA,CAAA;8BAMM,KAAK,EAAA,CAAA;sBADX,KAAK;gBAIC,MAAM,EAAA,CAAA;sBADZ,KAAK;;;AETV,MA2Ca,oBAAoB,CAAA;+GAApB,oBAAoB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA,EAAA;AAApB,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,oBAAoB,iBArBzB,uBAAuB;YACvB,4BAA4B;YAC5B,4BAA4B;YAC5B,mBAAmB;YACnB,6BAA6B;YAC7B,kCAAkC;AAClC,YAAA,uBAAuB,aA1BvB,YAAY;YACZ,WAAW;YACX,kBAAkB;YAClB,oBAAoB;YACpB,gBAAgB;YAChB,iBAAiB;YACjB,MAAM;YACN,aAAa;YACb,iBAAiB;YACjB,0BAA0B;YAC1B,aAAa;YACb,OAAO;YACP,4BAA4B;YAC5B,uBAAuB;AACvB,YAAA,qCAAqC,wiBAerC,uBAAuB;YACvB,4BAA4B;YAC5B,4BAA4B;YAC5B,mBAAmB;YACnB,uBAAuB;YACvB,6BAA6B;YAC7B,kCAAkC,EAAAC,IAAA,CAAA,2BAAA,EAAAA,IAAA,CAAA,0BAAA,EAAAA,IAAA,CAAA,oBAAA,EAAAA,IAAA,CAAA,oBAAA,EAAAA,IAAA,CAAA,eAAA,EAAAA,IAAA,CAAA,qBAAA,EAAAA,IAAA,CAAA,iBAAA,EAAAA,IAAA,CAAA,iBAAA,EAAAA,IAAA,CAAA,gBAAA,EAAAA,IAAA,CAAA,kBAAA,EAAAA,IAAA,CAAA,mBAAA,EAAAA,IAAA,CAAA,wBAAA,EAAAA,IAAA,CAAA,oBAAA,EAAAJ,IAAA,CAAA,oBAAA,EAAAA,IAAA,CAAA,oBAAA,EAAAA,IAAA,CAAA,SAAA,EAAAA,IAAA,CAAA,WAAA,EAAAC,IAAA,CAAA,2BAAA,EAAAA,IAAA,CAAA,gCAAA,EAAAD,IAAA,CAAA,oBAAA,CAAA,EAAA,CAAA,CAAA,EAAA;AAM7B,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,oBAAoB,YAzCzB,YAAY;YACZ,WAAW;YAGX,gBAAgB;YAChB,iBAAiB;YAGjB,iBAAiB;YACjB,0BAA0B;YAG1B,4BAA4B,EAAAI,IAAA,CAAA,oBAAA,EAAAJ,IAAA,CAAA,oBAAA,EAAAA,IAAA,CAAA,SAAA,EAAAC,IAAA,CAAA,2BAAA,EAAAA,IAAA,CAAA,gCAAA,CAAA,EAAA,CAAA,CAAA,EAAA;;4FA6BvB,oBAAoB,EAAA,UAAA,EAAA,CAAA;kBA3ChC,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACN,oBAAA,OAAO,EAAE;wBACL,YAAY;wBACZ,WAAW;wBACX,kBAAkB;wBAClB,oBAAoB;wBACpB,gBAAgB;wBAChB,iBAAiB;wBACjB,MAAM;wBACN,aAAa;wBACb,iBAAiB;wBACjB,0BAA0B;wBAC1B,aAAa;wBACb,OAAO;wBACP,4BAA4B;wBAC5B,uBAAuB;wBACvB,qCAAqC;AACrC,wBAAA,GAAG,WAAW;AACd,wBAAA,GAAG,WAAW;AACd,wBAAA,GAAG,kBAAkB;AACxB,qBAAA;AACD,oBAAA,YAAY,EAAE;wBACV,uBAAuB;wBACvB,4BAA4B;wBAC5B,4BAA4B;wBAC5B,mBAAmB;wBACnB,6BAA6B;wBAC7B,kCAAkC;wBAClC,uBAAuB;AAC1B,qBAAA;AACD,oBAAA,OAAO,EAAE;wBACL,uBAAuB;wBACvB,4BAA4B;wBAC5B,4BAA4B;wBAC5B,mBAAmB;wBACnB,uBAAuB;wBACvB,6BAA6B;wBAC7B,kCAAkC;AAClC,wBAAA,GAAG,WAAW;AACd,wBAAA,GAAG,WAAW;AACd,wBAAA,GAAG,kBAAkB;AACxB,qBAAA;AACJ,iBAAA,CAAA;;;ACtED;;AAEG;;;;"}