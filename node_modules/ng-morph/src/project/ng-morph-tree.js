"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NgMorphTree = void 0;
const core_1 = require("@angular-devkit/core");
const node_1 = require("@angular-devkit/core/node");
const scoped_1 = require("@angular-devkit/core/src/virtual-fs/host/scoped");
const schematics_1 = require("@angular-devkit/schematics");
const rxjs_1 = require("rxjs");
class NgMorphTree extends schematics_1.HostTree {
    constructor(root = process.cwd()) {
        const host = new scoped_1.ScopedHost(new node_1.NodeJsSyncHost(), (0, core_1.normalize)(root));
        super(host);
        this.hostSink = new schematics_1.HostSink(host);
    }
    async commitChanges() {
        return (0, rxjs_1.firstValueFrom)(this.hostSink.commit(this));
    }
}
exports.NgMorphTree = NgMorphTree;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctbW9ycGgtdHJlZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2xpYnMvbmctbW9ycGgvc3JjL3Byb2plY3QvbmctbW9ycGgtdHJlZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwrQ0FBK0M7QUFDL0Msb0RBQXlEO0FBQ3pELDRFQUEyRTtBQUMzRSwyREFBOEQ7QUFDOUQsK0JBQW9DO0FBRXBDLE1BQWEsV0FBWSxTQUFRLHFCQUFRO0lBR3JDLFlBQVksT0FBZSxPQUFPLENBQUMsR0FBRyxFQUFFO1FBQ3BDLE1BQU0sSUFBSSxHQUFHLElBQUksbUJBQVUsQ0FBQyxJQUFJLHFCQUFjLEVBQUUsRUFBRSxJQUFBLGdCQUFTLEVBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUVuRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFWixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUkscUJBQVEsQ0FBQyxJQUFXLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRU0sS0FBSyxDQUFDLGFBQWE7UUFDdEIsT0FBTyxJQUFBLHFCQUFjLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN0RCxDQUFDO0NBQ0o7QUFkRCxrQ0FjQyJ9