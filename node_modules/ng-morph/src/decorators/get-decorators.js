"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getAllDecorators = exports.getDecorators = void 0;
const accessors_1 = require("../accessors");
const classes_1 = require("../classes");
const constructors_1 = require("../constructors");
const methods_1 = require("../methods");
const params_1 = require("../params");
const properties_1 = require("../properties");
const utils_1 = require("../utils");
function getDecorators(declarations, query) {
    return (0, utils_1.arrayFlat)((0, utils_1.coerceArray)(declarations).map((declaration) => declaration.getDecorators())).filter((decorator) => (0, utils_1.matchQuery)(decorator.getStructure(), query));
}
exports.getDecorators = getDecorators;
exports.getAllDecorators = (0, utils_1.getDeclarationGetter)((pattern) => {
    const classes = (0, classes_1.getClasses)(pattern);
    const methods = (0, methods_1.getMethods)(classes);
    const constructors = (0, constructors_1.getConstructors)(classes);
    const properties = (0, properties_1.getProperties)(classes);
    const constructorParams = (0, params_1.getParams)(constructors);
    const methodParams = (0, params_1.getParams)(methods);
    const accessors = (0, accessors_1.getAccessors)(classes);
    return (0, utils_1.arrayFlat)([classes, methods, properties, constructorParams, methodParams, accessors].map((declarations) => getDecorators(declarations)));
});
//# sourceMappingURL=get-decorators.js.map