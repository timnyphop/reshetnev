"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getAllDecorators = exports.getDecorators = void 0;
const accessors_1 = require("../accessors");
const classes_1 = require("../classes");
const constructors_1 = require("../constructors");
const methods_1 = require("../methods");
const params_1 = require("../params");
const properties_1 = require("../properties");
const utils_1 = require("../utils");
function getDecorators(declarations, query) {
    return (0, utils_1.arrayFlat)((0, utils_1.coerceArray)(declarations).map((declaration) => declaration.getDecorators())).filter((decorator) => (0, utils_1.matchQuery)(decorator.getStructure(), query));
}
exports.getDecorators = getDecorators;
exports.getAllDecorators = (0, utils_1.getDeclarationGetter)((pattern) => {
    const classes = (0, classes_1.getClasses)(pattern);
    const methods = (0, methods_1.getMethods)(classes);
    const constructors = (0, constructors_1.getConstructors)(classes);
    const properties = (0, properties_1.getProperties)(classes);
    const constructorParams = (0, params_1.getParams)(constructors);
    const methodParams = (0, params_1.getParams)(methods);
    const accessors = (0, accessors_1.getAccessors)(classes);
    return (0, utils_1.arrayFlat)([classes, methods, properties, constructorParams, methodParams, accessors].map((declarations) => getDecorators(declarations)));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LWRlY29yYXRvcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL25nLW1vcnBoL3NyYy9kZWNvcmF0b3JzL2dldC1kZWNvcmF0b3JzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLDRDQUEwQztBQUMxQyx3Q0FBc0M7QUFDdEMsa0RBQWdEO0FBQ2hELHdDQUFzQztBQUN0QyxzQ0FBb0M7QUFDcEMsOENBQTRDO0FBRTVDLG9DQUFrRjtBQUVsRixTQUFnQixhQUFhLENBQ3pCLFlBQWlELEVBQ2pELEtBQWlDO0lBRWpDLE9BQU8sSUFBQSxpQkFBUyxFQUNaLElBQUEsbUJBQVcsRUFBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUM5RSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBQSxrQkFBVSxFQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ3pFLENBQUM7QUFQRCxzQ0FPQztBQUVZLFFBQUEsZ0JBQWdCLEdBQUcsSUFBQSw0QkFBb0IsRUFBWSxDQUFDLE9BQU8sRUFBRSxFQUFFO0lBQ3hFLE1BQU0sT0FBTyxHQUFHLElBQUEsb0JBQVUsRUFBQyxPQUFPLENBQUMsQ0FBQztJQUNwQyxNQUFNLE9BQU8sR0FBRyxJQUFBLG9CQUFVLEVBQUMsT0FBTyxDQUFDLENBQUM7SUFDcEMsTUFBTSxZQUFZLEdBQUcsSUFBQSw4QkFBZSxFQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzlDLE1BQU0sVUFBVSxHQUFHLElBQUEsMEJBQWEsRUFBQyxPQUFPLENBQUMsQ0FBQztJQUMxQyxNQUFNLGlCQUFpQixHQUFHLElBQUEsa0JBQVMsRUFBQyxZQUFZLENBQUMsQ0FBQztJQUNsRCxNQUFNLFlBQVksR0FBRyxJQUFBLGtCQUFTLEVBQUMsT0FBTyxDQUFDLENBQUM7SUFDeEMsTUFBTSxTQUFTLEdBQUcsSUFBQSx3QkFBWSxFQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRXhDLE9BQU8sSUFBQSxpQkFBUyxFQUNaLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsaUJBQWlCLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FDMUUsQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsQ0FDaEQsQ0FDSixDQUFDO0FBQ04sQ0FBQyxDQUFDLENBQUMifQ==