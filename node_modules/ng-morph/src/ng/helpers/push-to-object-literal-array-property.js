"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.pushToObjectLiteralArrayProperty = void 0;
const ts_morph_1 = require("ts-morph");
function pushToObjectLiteralArrayProperty(objectLiteral, propertyName, initializer, { unique = false, forceToArray = false, } = {}) {
    var _a, _b;
    const property = (_a = objectLiteral.getProperty(propertyName)) !== null && _a !== void 0 ? _a : objectLiteral.addProperty(`${propertyName}: []`);
    if (!ts_morph_1.Node.isPropertyAssignment(property)) {
        return;
    }
    if (forceToArray && !ts_morph_1.Node.isArrayLiteralExpression(property.getInitializer())) {
        property.setInitializer(`[${(_b = property.getInitializer()) === null || _b === void 0 ? void 0 : _b.getText()}]`);
    }
    const importsInitializer = property.getInitializer();
    if (!ts_morph_1.Node.isArrayLiteralExpression(importsInitializer)) {
        return;
    }
    if (unique &&
        importsInitializer
            .getElements()
            .some((element) => element.getText() === initializer)) {
        return;
    }
    importsInitializer.addElement(initializer);
}
exports.pushToObjectLiteralArrayProperty = pushToObjectLiteralArrayProperty;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVzaC10by1vYmplY3QtbGl0ZXJhbC1hcnJheS1wcm9wZXJ0eS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmctbW9ycGgvc3JjL25nL2hlbHBlcnMvcHVzaC10by1vYmplY3QtbGl0ZXJhbC1hcnJheS1wcm9wZXJ0eS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBOEI7QUFFOUIsU0FBZ0IsZ0NBQWdDLENBQzVDLGFBQXNDLEVBQ3RDLFlBQW9CLEVBQ3BCLFdBQW1CLEVBQ25CLEVBQ0ksTUFBTSxHQUFHLEtBQUssRUFDZCxZQUFZLEdBQUcsS0FBSyxNQUN3QixFQUFFOztJQUVsRCxNQUFNLFFBQVEsR0FDVixNQUFBLGFBQWEsQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLG1DQUN2QyxhQUFhLENBQUMsV0FBVyxDQUFDLEdBQUcsWUFBWSxNQUFNLENBQUMsQ0FBQztJQUVyRCxJQUFJLENBQUMsZUFBSSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBQ3RDLE9BQU87S0FDVjtJQUVELElBQUksWUFBWSxJQUFJLENBQUMsZUFBSSxDQUFDLHdCQUF3QixDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxFQUFFO1FBQzNFLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxNQUFBLFFBQVEsQ0FBQyxjQUFjLEVBQUUsMENBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQ3hFO0lBRUQsTUFBTSxrQkFBa0IsR0FBRyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7SUFFckQsSUFBSSxDQUFDLGVBQUksQ0FBQyx3QkFBd0IsQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1FBQ3BELE9BQU87S0FDVjtJQUVELElBQ0ksTUFBTTtRQUNOLGtCQUFrQjthQUNiLFdBQVcsRUFBRTthQUNiLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLFdBQVcsQ0FBQyxFQUMzRDtRQUNFLE9BQU87S0FDVjtJQUVELGtCQUFrQixDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUMvQyxDQUFDO0FBckNELDRFQXFDQyJ9