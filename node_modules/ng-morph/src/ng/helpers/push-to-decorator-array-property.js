"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.pushToDecoratorArrayProperty = void 0;
const ts_morph_1 = require("ts-morph");
const decorators_1 = require("../../decorators");
const push_to_object_literal_array_property_1 = require("./push-to-object-literal-array-property");
// TODO: investigate how to handle consts in descriptors that don't accept array of array type, like styleUrls
function pushToDecoratorArrayProperty(classDeclaration, decoratorName, propertyName, initializer, { unique = false, forceToArray = false, } = {}) {
    const [decorator] = (0, decorators_1.getDecorators)(classDeclaration, {
        name: decoratorName,
    });
    const [metadata = decorator === null || decorator === void 0 ? void 0 : decorator.addArgument(`{${propertyName}: []}`)] = (decorator === null || decorator === void 0 ? void 0 : decorator.getArguments()) || [];
    if (!ts_morph_1.Node.isObjectLiteralExpression(metadata)) {
        return;
    }
    (0, push_to_object_literal_array_property_1.pushToObjectLiteralArrayProperty)(metadata, propertyName, initializer, {
        unique,
        forceToArray,
    });
}
exports.pushToDecoratorArrayProperty = pushToDecoratorArrayProperty;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVzaC10by1kZWNvcmF0b3ItYXJyYXktcHJvcGVydHkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL25nLW1vcnBoL3NyYy9uZy9oZWxwZXJzL3B1c2gtdG8tZGVjb3JhdG9yLWFycmF5LXByb3BlcnR5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHVDQUE4QjtBQUU5QixpREFBK0M7QUFDL0MsbUdBQXlGO0FBRXpGLDhHQUE4RztBQUM5RyxTQUFnQiw0QkFBNEIsQ0FDeEMsZ0JBQWtDLEVBQ2xDLGFBQXFCLEVBQ3JCLFlBQW9CLEVBQ3BCLFdBQW1CLEVBQ25CLEVBQ0ksTUFBTSxHQUFHLEtBQUssRUFDZCxZQUFZLEdBQUcsS0FBSyxNQUN3QixFQUFFO0lBRWxELE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFBLDBCQUFhLEVBQUMsZ0JBQWdCLEVBQUU7UUFDaEQsSUFBSSxFQUFFLGFBQWE7S0FDdEIsQ0FBQyxDQUFDO0lBRUgsTUFBTSxDQUFDLFFBQVEsR0FBRyxTQUFTLGFBQVQsU0FBUyx1QkFBVCxTQUFTLENBQUUsV0FBVyxDQUFDLElBQUksWUFBWSxPQUFPLENBQUMsQ0FBQyxHQUM5RCxDQUFBLFNBQVMsYUFBVCxTQUFTLHVCQUFULFNBQVMsQ0FBRSxZQUFZLEVBQUUsS0FBSSxFQUFFLENBQUM7SUFFcEMsSUFBSSxDQUFDLGVBQUksQ0FBQyx5QkFBeUIsQ0FBQyxRQUFRLENBQUMsRUFBRTtRQUMzQyxPQUFPO0tBQ1Y7SUFFRCxJQUFBLHdFQUFnQyxFQUFDLFFBQVEsRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFFO1FBQ2xFLE1BQU07UUFDTixZQUFZO0tBQ2YsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQXpCRCxvRUF5QkMifQ==