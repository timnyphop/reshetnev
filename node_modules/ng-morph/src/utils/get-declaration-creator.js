"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDeclarationCreator = void 0;
const source_file_1 = require("../source-file");
const coerce_array_1 = require("./coerce-array");
function getDeclarationCreator(common, { position = null } = {}) {
    return function addDeclarations(pattern, structures) {
        const files = (0, source_file_1.getSourceFiles)(pattern);
        files.forEach((file) => {
            const structuresWithKind = (0, coerce_array_1.coerceArray)(structures).map((structure) => (Object.assign(Object.assign({}, common), structure)));
            if (position === null && typeof position !== 'number') {
                file.addStatements(structuresWithKind);
            }
            else {
                file.insertStatements(position, structuresWithKind);
            }
        });
    };
}
exports.getDeclarationCreator = getDeclarationCreator;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LWRlY2xhcmF0aW9uLWNyZWF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL25nLW1vcnBoL3NyYy91dGlscy9nZXQtZGVjbGFyYXRpb24tY3JlYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSxnREFBOEM7QUFDOUMsaURBQTJDO0FBSzNDLFNBQWdCLHFCQUFxQixDQVVuQyxNQUF1QixFQUFFLEVBQUMsUUFBUSxHQUFHLElBQUksS0FBZ0MsRUFBRTtJQUN6RSxPQUFPLFNBQVMsZUFBZSxDQUMzQixPQUFnQixFQUNoQixVQUFtQztRQUVuQyxNQUFNLEtBQUssR0FBRyxJQUFBLDRCQUFjLEVBQUMsT0FBTyxDQUFDLENBQUM7UUFFdEMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQ25CLE1BQU0sa0JBQWtCLEdBQUcsSUFBQSwwQkFBVyxFQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsaUNBQy9ELE1BQU0sR0FDTixTQUFTLEVBQ2QsQ0FBMEIsQ0FBQztZQUU3QixJQUFJLFFBQVEsS0FBSyxJQUFJLElBQUksT0FBTyxRQUFRLEtBQUssUUFBUSxFQUFFO2dCQUNuRCxJQUFJLENBQUMsYUFBYSxDQUFDLGtCQUFrQixDQUFDLENBQUM7YUFDMUM7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO2FBQ3ZEO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLENBQUM7QUFDTixDQUFDO0FBOUJELHNEQThCQyJ9