"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDeclarationGetter = void 0;
const match_query_1 = require("./match-query");
function getDeclarationGetter(getFn) {
    return function getDeclaration(pattern, query) {
        return getFn(pattern).filter((declaration) => {
            try {
                return (0, match_query_1.matchQuery)(declaration.getStructure(), query);
            }
            catch (error) {
                const path = declaration.getSourceFile().getFilePath();
                const err = error;
                throw new Error(`An error occurred in ${path}\n${err.message}\n${err.stack}`);
            }
        });
    };
}
exports.getDeclarationGetter = getDeclarationGetter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LWRlY2xhcmF0aW9uLWdldHRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2xpYnMvbmctbW9ycGgvc3JjL3V0aWxzL2dldC1kZWNsYXJhdGlvbi1nZXR0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsK0NBQXlDO0FBS3pDLFNBQWdCLG9CQUFvQixDQUdsQyxLQUEwQztJQUN4QyxPQUFPLFNBQVMsY0FBYyxDQUMxQixPQUFnQixFQUNoQixLQUF3QjtRQUV4QixPQUFPLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLEVBQUUsRUFBRTtZQUN6QyxJQUFJO2dCQUNBLE9BQU8sSUFBQSx3QkFBVSxFQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQzthQUN4RDtZQUFDLE9BQU8sS0FBYyxFQUFFO2dCQUNyQixNQUFNLElBQUksR0FBRyxXQUFXLENBQUMsYUFBYSxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBQ3ZELE1BQU0sR0FBRyxHQUFHLEtBQWMsQ0FBQztnQkFFM0IsTUFBTSxJQUFJLEtBQUssQ0FDWCx3QkFBd0IsSUFBSSxLQUFLLEdBQUcsQ0FBQyxPQUFPLEtBQUssR0FBRyxDQUFDLEtBQUssRUFBRSxDQUMvRCxDQUFDO2FBQ0w7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQztBQUNOLENBQUM7QUFyQkQsb0RBcUJDIn0=