"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDeclarationEditor = void 0;
const ts_morph_1 = require("ts-morph");
const coerce_array_1 = require("./coerce-array");
function getDeclarationEditor() {
    return function editDeclarations(declarations, editor) {
        (0, coerce_array_1.coerceArray)(declarations).forEach((declaration) => {
            const newStructure = Object.assign(declaration.getStructure(), 
            // TODO: refactor it to support new typings
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            editor(declaration.getStructure(), declaration));
            // todo: see https://github.com/dsherret/ts-morph/issues/882
            // if the issue is resolved code will be remove
            if (ts_morph_1.Structure.hasName(newStructure) && ts_morph_1.Node.isRenameable(declaration)) {
                declaration.rename(newStructure.name);
                delete newStructure.name;
            }
            declaration.set(newStructure);
        });
    };
}
exports.getDeclarationEditor = getDeclarationEditor;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LWRlY2xhcmF0aW9uLWVkaXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2xpYnMvbmctbW9ycGgvc3JjL3V0aWxzL2dldC1kZWNsYXJhdGlvbi1lZGl0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsdUNBQXlDO0FBRXpDLGlEQUEyQztBQUszQyxTQUFnQixvQkFBb0I7SUFJaEMsT0FBTyxTQUFTLGdCQUFnQixDQUM1QixZQUF5QyxFQUN6QyxNQUE4RDtRQUU5RCxJQUFBLDBCQUFXLEVBQUMsWUFBWSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQUU7WUFDOUMsTUFBTSxZQUFZLEdBQWUsTUFBTSxDQUFDLE1BQU0sQ0FDMUMsV0FBVyxDQUFDLFlBQVksRUFBRTtZQUMxQiwyQ0FBMkM7WUFDM0MsNkRBQTZEO1lBQzdELGFBQWE7WUFDYixNQUFNLENBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxFQUFFLFdBQVcsQ0FBQyxDQUNwQyxDQUFDO1lBRWhCLDREQUE0RDtZQUM1RCwrQ0FBK0M7WUFDL0MsSUFBSSxvQkFBUyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxlQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxFQUFFO2dCQUNuRSxXQUFXLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDdEMsT0FBUSxZQUFnQyxDQUFDLElBQUksQ0FBQzthQUNqRDtZQUVELFdBQVcsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDbEMsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLENBQUM7QUFDTixDQUFDO0FBM0JELG9EQTJCQyJ9