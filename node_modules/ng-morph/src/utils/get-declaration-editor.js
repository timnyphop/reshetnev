"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDeclarationEditor = void 0;
const ts_morph_1 = require("ts-morph");
const coerce_array_1 = require("./coerce-array");
function getDeclarationEditor() {
    return function editDeclarations(declarations, editor) {
        (0, coerce_array_1.coerceArray)(declarations).forEach((declaration) => {
            const newStructure = Object.assign(declaration.getStructure(), 
            // TODO: refactor it to support new typings
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            editor(declaration.getStructure(), declaration));
            // todo: see https://github.com/dsherret/ts-morph/issues/882
            // if the issue is resolved code will be remove
            if (ts_morph_1.Structure.hasName(newStructure) && ts_morph_1.Node.isRenameable(declaration)) {
                declaration.rename(newStructure.name);
                delete newStructure.name;
            }
            declaration.set(newStructure);
        });
    };
}
exports.getDeclarationEditor = getDeclarationEditor;
//# sourceMappingURL=get-declaration-editor.js.map